!function(e){function t(e,t){return e.w('<div id="components-view" class="oj-flex bots-container bots-helper-overflow-auto"><div id="components-tabs" class="bots-helper-max-width components-tabs"data-bind="ojComponent:{ component: \'ojTabs\',edge: \'top\',selected: 0,rootAttributes: { class: \'bots-custom-horiztabs bots-panel-onlytopborder bots-tab-selection-bottom-bar\'} }"><ul><li><span>').h("i18n",t,{},{key:"components.custom.tabTitle"},"h").w("</span></li><li><span>").h("i18n",t,{},{key:"components.webview.tabTitle"},"h").w('</span></li></ul><div id="components-custom" class="bots-no-horiz-scroll"></div><div id="components-webview-tab"></div></div></div>')}return e.register("bots/components/body",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div id="component-details" class="oj-form suite-helper-margin-left-20 suite-helper-padding-top-16"data-bind="with: selectedComponent"><div class="suite-helper-margin-bottom-10"><h2 class="component-name" data-bind="text: name"></h2><div class="oj-flex suite-helper-padding-top-5"><div class="oj-flex-item oj-sm-flex-initial vertical-middle"><label for="components-service-name">').h("i18n",t,{},{key:"components.serviceLabel"},"h").w('</label></div><div class="oj-flex-item"><input  id="components-service-name"class="left suite-helper-max-width suite-helper-ellipsis suite-helper-margin-left-20 suite-helper-margin-right-20"data-bind="ojComponent: {component: \'ojInputText\',value: $root.selectedService().name,readOnly: true }" /></div></div></div>   <div class="suite-helper-margin-bottom-20 suite-helper-padding-top-10"><h2 class="suite-helper-border-width-0">').h("i18n",t,{},{key:"components.propertiesLabel"},"h").w("</h2><div data-bind=\"visible: ko.unwrap(componentProperties).length > 0\"><table data-bind=\"ojComponent: { component: 'ojTable',data: $root.componentPropertiesDS,columnsDefault: {sortable: 'none'},columns: [     { headerText: '").h("i18n",t,{},{key:"components.propertyLabel",filter:"j"},"h").w("',field: 'key'}, { headerText: '").h("i18n",t,{},{key:"components.typeLabel",filter:"j"},"h").w("',field: 'type'},{ headerText: '").h("i18n",t,{},{key:"components.requiedLabel",filter:"j"},"h").w('\',field: \'required\' }] }"id="componentPropertiesTable" summary="').h("i18n",t,{},{key:"components.propertiesLabel",filter:"h"},"h").w('"></table></div></div><div class="suite-helper-margin-bottom-20 suite-helper-padding-top-10"><h2 class="suite-helper-border-width-0">').h("i18n",t,{},{key:"components.supportedActionsLabel"},"h").w("</h2><div data-bind=\"visible: supportedActions().length > 0\"><ul data-bind=\"ojComponent: { component: 'ojListView',data: $root.componentSupportedActionsDS,selectionMode: 'single',item: { 'renderer': function(context) {return context['data']['value'];}}}\" id=\"componentSupportedActionsList\" aria-label=\"").h("i18n",t,{},{key:"components.supportedActionsLabel",filter:"h"},"h").w('"></ul></div></div></div>')}return e.register("bots/components/custom/component.details",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-services-crash-report-dialog",sizeKlazz:"components-services-crash-report-dialog",actionHandler:"refreshCrashReport"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.diagnostics.crashReport.titleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.p("bots/components/custom/crash.report.view",t,t,{})}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.diagnostics.crashReport.refreshLabel",filter:"j"},"h").w("'")}e.register("bots/components/custom/crash.report.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex-items-pad"><!-- ko if: reportDate --><div class="oj-flex"><div class="oj-flex-item"><label for="components-services-reportDate">').h("i18n",t,{},{key:"components.status.label"},"h").w('</label></div><div class="oj-flex-item oj-flex-bar"><div class="oj-flex-bar-start"><div class="oj-flex-item bots-helper-max-width" data-bind="text: reportDate" ></div></div></div></div><hr/><!-- /ko --><div class="oj-flex"><div class="oj-flex-item"><textarea id="components-services-crash-report-log" rows="20"data-bind="ojComponent: { component: \'ojTextArea\',value: reportDetails,rootAttributes: { class: \'bots-helper-max-width\' },readOnly: true }" /></div></div></div>')}return e.register("bots/components/custom/crash.report.view",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w('-url">').h("i18n",t,{},{key:"components.httpBasicAuth.url.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w("-url\"data-bind=\"ojComponent: { component: 'ojInputText',value: url,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.urlCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.url.placeholder.basic",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.url.required') } }, help: { source: 'http://www.oracle.com' } }, botsHelpPopup: { summarykey: 'components.httpBasicAuth.url.helpSummary' }\"></div></div><div class=\"oj-flex\"><div class=\"oj-flex-item\"><label for=\"components-services-httpBasicAuth-basic-").f(t.get(["viewMode"],!1),t,"h").w('-username">').h("i18n",t,{},{key:"components.httpBasicAuth.username.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w("-username\"data-bind=\"ojComponent: { component: 'ojInputText',value: credentials.username,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.usernameCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.username.placeholder",filter:"j"},"h").w('\', translations: { required: { messageSummary: $root.i18n.translate(\'general.notSoFast\'), messageDetail: $root.i18n.translate(\'components.httpBasicAuth.username.required\') } } },     hasFocus: $root.usernameHasFocus"></div></div><div class="oj-flex" data-bind="visible: ko.unwrap($root.passwordEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w('-password">').h("i18n",t,{},{key:"components.httpBasicAuth.password.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w("-password\"type=\"password\" data-bind=\"ojComponent: { component: 'ojInputPassword',value: credentials.password,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.passwordCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.password.placeholder",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.httpBasicAuth.password.required') } } }, hasFocus:$root.passwordHasFocus\"></div>").h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><div class="oj-flex" data-bind="visible: !ko.unwrap($root.passwordEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w('-passwordConfidential">').h("i18n",t,{},{key:"components.httpBasicAuth.password.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-basic-').f(t.get(["viewMode"],!1),t,"h").w("-passwordConfidential\"type=\"password\"data-bind=\"ojComponent: { component: 'ojInputPassword',value: $root.componentsEnums.PLACEHOLDER_STRING_1,readOnly: true,rootAttributes: { class: 'bots-helper-max-width' },help: { source: 'http://www.oracle.com' } },botsHelpPopup: { summarykey: 'components.httpBasicAuth.password.helpSummaryReset' }\"></div>").h("eq",t,{block:i},{key:t.get(["viewMode"],!1),value:"update"},"h").w("</div></div></div>")}function s(e,t){return e.w('<div    class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"data-bind="visible: credentials.passwordKey()"><a href="#" data-bind="event: { mousedown: $root.cancelEditBasicPassword }">').h("i18n",t,{},{key:"components.httpBasicAuth.password.cancel"},"h").w("</a></div>")}function i(e,t){return e.w('<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"><a href="#" data-bind="click: $root.resetPassword">').h("i18n",t,{},{key:"components.httpBasicAuth.password.reset"},"h").w("</a></div><!-- /ko -->")}return e.register("bots/components/custom/create.read.update.service.basic",t),t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(c),e.w('<div class="oj-form oj-sm-labels-inline oj-xl-labels-inline oj-sm-odd-cols-5 oj-xl-odd-cols-3 oj-flex-items-pad"data-bind="with: ').f(t.get(["service"],!1),t,"h").w('">').h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"update"},"h").w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-name">').h("i18n",t,{},{key:"components.name.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w("-name\"data-bind=\"ojComponent: { component: 'ojInputText',value: name,rootAttributes: { class: 'bots-helper-max-width' },readOnly: !$root.isDraftVersion() || !$root.permissions().BOTS_WRITE || credentials.type() === 'prebuilt',required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE && credentials.type() !== 'prebuilt',placeholder: '").h("i18n",t,{},{key:"components.name.placeholder",filter:"j"},"h").w('\',messagesCustom: $root.nameCustomMessage,validators: [ $root.botsValidators.botsOtherNameValidator,$root.uniqueNameValidator ],translations: { required: { messageSummary: $root.i18n.translate(\'general.notSoFast\'),messageDetail: $root.i18n.translate(\'components.name.required\') } } }"></div></div><div class="oj-flex"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-description">').h("i18n",t,{},{key:"components.description.label"},"h").w('</label></div><div class="oj-flex-item"><textarea id="components-services-').f(t.get(["viewMode"],!1),t,"h").w("-description\" rows=\"3\"data-bind=\"ojComponent: { component: 'ojTextArea',value: description,readOnly: !$root.isDraftVersion() || !$root.permissions().BOTS_WRITE || credentials.type() === 'prebuilt',validators: [ $root.botsValidators.lengthValidator ],rootAttributes: { class: 'bots-helper-max-width' },placeholder: '").h("i18n",t,{},{key:"components.description.placeholder",filter:"j"},"h").w("' }\"></textarea></div></div>").h("eq",t,{block:o},{key:t.get(["viewMode"],!1),value:"update"},"h").w("<!-- ko ifnot: credentials.type() === 'prebuilt' --><hr/>").h("eq",t,{block:n},{key:t.get(["viewMode"],!1),value:"create"},"h").h("eq",t,{block:l},{key:t.get(["viewMode"],!1),value:"update"},"h").p("bots/components/custom/create.read.update.service.package",t,t,{viewMode:t.get(["viewMode"],!1),service:"service"}).w("<!-- ko if: credentials.type() === 'basic' -->").p("bots/components/custom/create.read.update.service.basic",t,t,{viewMode:t.get(["viewMode"],!1),service:"service"}).p("bots/components/custom/service.details.httpheaders",t,t,{viewMode:t.get(["viewMode"],!1),service:"service"}).w("<!-- /ko --><!-- ko if: credentials.type() === 'mcs' -->").p("bots/components/custom/create.read.update.service.mcs",t,t,{viewMode:t.get(["viewMode"],!1),service:"service"}).p("bots/components/custom/service.details.httpheaders",t,t,{viewMode:t.get(["viewMode"],!1),service:"service"}).w("         <!-- /ko --><!-- /ko --></div>")}function s(e,t){return t=t.shiftBlocks(c),e.w('<div class="oj-flex bots-helper-padding-top-5"><div class="oj-flex-item"><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><label for="components-').f(t.get(["viewMode"],!1),t,"h").w('-enabled">').h("i18n",t,{},{key:"components.enabled.label"},"h").w('</label><!-- /ko --></div><div class="oj-flex-item oj-flex-bar"><div class="oj-flex-bar-start"><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><input id="components-').f(t.get(["viewMode"],!1),t,"h").w('-enabled"data-bind="ojComponent: { component: \'ojSwitch\',value: enabled }"><!-- /ko -->                                 </div><div class="oj-flex-bar-end"><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><button class="natural-button oj-button oj-widget oj-clickable-default oj-button-text-only bots-helper-margin-right-10"role="button"data-bind="ojComponent: { component: \'ojButton\' },click: $root.onClickReloadService"><span class="oj-button-text">').h("i18n",t,{},{key:"components.reloadLabel"},"h").w('</span></button><button class="natural-button oj-button oj-widget oj-clickable-default oj-button-text-only bots-helper-margin-right-10"role="button"data-bind="ojComponent: { component: \'ojButton\' },click: $root.onClickDeleteService"><span class="oj-button-text">').h("i18n",t,{},{key:"components.deleteLabel"},"h").w("</span></button><!-- /ko --><!-- ko if: credentials.type() !== 'basic' && credentials.type() !== 'mcs' -->").p("bots/common/cta.dropdown.button",t,t,{prefix:"components-diagnostics",klazz:"natural-button",selectAction:"$root.diagnosticActions",label:"$root.i18n.translate('components.diagnostics.menuLabel')"}).w("<!-- /ko -->                        </div></div></div>")}function i(e,t){return t=t.shiftBlocks(c),e.w('<li id="components-').f(t.get(["viewMode"],!1),t,"h").w('-menu-log-viewer" class="oj-menu-item"data-bind="css: { \'oj-disabled\': false }"><a class="intents-menu-item" href="#" data-bind="text: $root.i18n.translate(\'components.diagnostics.logs.menuLabel\')"/></li><li id="components-').f(t.get(["viewMode"],!1),t,"h").w('-menu-crash-report" class="oj-menu-item"><a class="intents-menu-item" href="#" data-bind="text: $root.i18n.translate(\'components.diagnostics.crashReport.menuLabel\')"/></li>')}function o(e,t){return t=t.shiftBlocks(c),e.w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-status"><a href="#" class="suite-helper-margin-left-10" data-bind="botsHelpPopup: { summarykey: \'components.status.values.\'+statusCode()+\'.labelHelp\' }"></a>').h("i18n",t,{},{key:"components.status.label"},"h").w('</label></div><div class="oj-flex-item oj-flex-bar"><div class="oj-flex-bar-start"><!-- ko with: $root.botsEnums.ComponentServiceStatusEnum.toEnum($data.statusCode()) --><!-- ko if: $data --><div class="oj-flex oj-sm-align-items-center"><div class="oj-flex-item suite-helper-padding-right-5"><div data-bind="inlinesvg: { width: width, height: height, project: \'bots\', basename: basename, klazz: klazz },attr: { title: $root.i18n.translate(statusHintRbKey) }"></div></div><div class="oj-flex-item"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-status"data-bind="ojComponent: { component: \'ojInputText\',value: $root.i18n.translate(statusRbKey),readOnly: true }" ></div></div><!-- /ko --><!-- /ko --></div></div></div><div class="oj-flex" data-bind="if: statusMessage() && statusCode() !== $root.BotsEnums.ComponentServiceStatusEnum.READY.value"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-statusMessage">').h("i18n",t,{},{key:"components.status.messageLabel"},"h").w('</label></div><div class="oj-flex-item"><textarea id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-statusMessage" rows="10"data-bind="ojComponent: { component: \'ojTextArea\',value: statusMessage(),rootAttributes: { class: \'bots-helper-max-width\' },readOnly: true }" /></div></div><div class="oj-flex" data-bind="if: version()"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-version"><a href="#" class="suite-helper-margin-left-10" data-bind="botsHelpPopup: { summarykey: \'components.version.labelHelp\' }"></a>').h("i18n",t,{},{key:"components.version.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-version"data-bind="ojComponent: { component: \'ojInputText\',value: version,rootAttributes: { class: \'bots-helper-max-width\' },readOnly: true }"></div></div><div class="oj-flex" data-bind="if: nodeVersion"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-nodeVersion">').h("i18n",t,{},{key:"components.deploymentMetadata.nodeVersion.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-nodeVersion" data-bind="ojComponent: { component: \'ojInputText\',value: nodeVersion,rootAttributes: { class: \'bots-helper-max-width\' },readOnly: true }" ></div>   </div><div class="oj-flex" data-bind="if: botsSdkVersion"><div class="oj-flex-item"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-botsSdkVersion">').h("i18n",t,{},{key:"components.deploymentMetadata.botsSdkVersion.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w("-botsSdkVersion\" data-bind=\"ojComponent: { component: 'ojInputText',value: botsSdkVersion,rootAttributes: { class: 'bots-helper-max-width' },readOnly: true }\" ></div>   </div>")}function n(e,t){return t=t.shiftBlocks(c),e.p("bots/common/ez.radioset",t,t,{ezRadiosetIdPrefix:a,label:"components.httpBasicAuth.header",value:"credentials.type",valueToString:"$root.toCredentialsType"})}function a(e,t){return t=t.shiftBlocks(c),e.w("components-services-").f(t.get(["viewMode"],!1),t,"h").w("-httpBasicAuth")}function r(e,t){return t=t.shiftBlocks(c),e.w('<span class="oj-choice-row-inline"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-package" type="radio"value="package" name="').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-package">').h("i18n",t,{},{key:"components.httpBasicAuth.enums.package"},"h").w('</label></span><span class="oj-choice-row-inline"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-mcs" type="radio"value="mcs" name="').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-mcs">').h("i18n",t,{},{key:"components.httpBasicAuth.enums.mcs"},"h").w('</label></span><span class="oj-choice-row-inline"><input id="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-basic" type="radio"value="basic" name="').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth"><label for="components-services-').f(t.get(["viewMode"],!1),t,"h").w('-httpBasicAuth-basic">').h("i18n",t,{},{key:"components.httpBasicAuth.enums.basic"},"h").w("</label></span>")}function l(e,t){return t=t.shiftBlocks(c),e.p("bots/common/ez.radioset",t,t,{ezRadiosetIdPrefix:d,label:"components.httpBasicAuth.header",forceImmutable:"true",value:"credentials.type",valueToString:"$root.toCredentialsType"})}function d(e,t){return t=t.shiftBlocks(c),e.w("components-services-").f(t.get(["viewMode"],!1),t,"h").w("-httpBasicAuth")}e.register("bots/components/custom/create.read.update.service",t);var c={menuItems:i,radiosPart:r};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-mobileBackendId">').h("i18n",t,{},{key:"components.httpBasicAuth.mobileBackendId.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-mobileBackendId\"data-bind=\"ojComponent: { component: 'ojInputText',value: credentials.mobileBackendId,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.mobileBackendIdCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.mobileBackendId.placeholder",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.httpBasicAuth.mobileBackendId.required') } }, help: { source: 'http://www.oracle.com' } }, botsHelpPopup: { summarykey: 'components.httpBasicAuth.mobileBackendId.helpSummary', uakey: 'components.services.httpBasicAuth.mobileBackendId.tellMeMore' }\"></div></div><div class=\"oj-flex\"><div class=\"oj-flex-item\"><label for=\"components-services-httpBasicAuth-mcs-").f(t.get(["viewMode"],!1),t,"h").w('-url">').h("i18n",t,{},{key:"components.httpBasicAuth.url.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-url\"data-bind=\"ojComponent: { component: 'ojInputText',value: url,readOnly: !$root.permissions().BOTS_WRITE || !$root.permissions().BOTS_WRITE || credentials.type() === 'prebuilt',required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE && credentials.type() !== 'prebuilt',rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.urlCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.url.placeholder.mcs",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.url.required') } }, help: { source: 'http://www.oracle.com' } }, botsHelpPopup: { summarykey: 'components.httpBasicAuth.url.helpSummary' }\">                              </div></div><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class=\"oj-flex-bar bots-helper-margin-bottom-15\"><div class=\"oj-flex-bar-start oj-choice-row\"><input  id=\"components-services-httpBasicAuth-mcs-").f(t.get(["viewMode"],!1),t,"h").w('-anonymous" type="checkbox" class="oj-checkbox-nocomp"data-bind=" checked: credentials.anonymous"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-anonymous">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymous.label"},"h").w('</label></div></div><!-- /ko --><!-- ko ifnot: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex bots-helper-padding-top-6 bots-helper-padding-bottom-4"><div class="oj-flex-item"><label id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-anonymous" class="oj-label-nocomp oj-label-for-non-control">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymous.label"},"h").w('</label></div><div class="oj-flex-item"><div aria-labelledby="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-anonymous"data-bind="text: $root.i18n.translate(\'general.\' + (credentials.anonymous() ? \'yes\' : \'no\'))"></div></div></div><!-- /ko --><!-- ko if: credentials.anonymous --><div class="oj-flex" data-bind="visible: ko.unwrap($root.anonymousKeyEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-anonymousKey">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymousKey.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-anonymousKey\"data-bind=\"ojComponent: { component: 'ojInputText',value: credentials.anonymousKey,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.anonymousKeyCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.anonymousKey.placeholder",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.httpBasicAuth.anonymousKey.required') } }, help: { source: 'http://www.oracle.com' } }, hasFocus: $root.anonymousKeyHasFocus, botsHelpPopup: { summarykey: 'components.httpBasicAuth.anonymousKey.helpSummary' , uakey: 'components.services.httpBasicAuth.anonymousKey.tellMeMore' }\"></div>").h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><div class="oj-flex" data-bind="visible: !ko.unwrap($root.anonymousKeyEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-anonymousKeyConfidential">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymousKey.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar bots-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-anonymousKeyConfidential\"data-bind=\"ojComponent: { component: 'ojInputPassword',value: $root.componentsEnums.PLACEHOLDER_STRING_2,readOnly: true,rootAttributes: { class: 'bots-helper-max-width bots-helper-padding-right-10' },help: { source: 'http://www.oracle.com' } },botsHelpPopup: { summarykey: 'components.httpBasicAuth.anonymousKey.helpSummaryReset',uakey: 'components.services.httpBasicAuth.anonymousKey.tellMeMore' }\"></div>").h("eq",t,{block:i},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><!-- /ko --><!-- ko ifnot: credentials.anonymous --><div class="oj-flex"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-username">').h("i18n",t,{},{key:"components.httpBasicAuth.username.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-username\"data-bind=\"ojComponent: { component: 'ojInputText',value: credentials.username,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.username.placeholder",filter:"j"},"h").w('\', translations: { required: { messageSummary: $root.i18n.translate(\'general.notSoFast\'), messageDetail: $root.i18n.translate(\'components.httpBasicAuth.username.required\') } } }, hasFocus: $root.usernameHasFocus"></div></div><div class="oj-flex" data-bind="visible: ko.unwrap($root.passwordEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-password">').h("i18n",t,{},{key:"components.httpBasicAuth.password.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-password\"type=\"password\" data-bind=\"ojComponent: { component: 'ojInputPassword',value: credentials.password,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.passwordCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.httpBasicAuth.password.placeholder",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.httpBasicAuth.password.required') } } }, hasFocus: $root.passwordHasFocus\"></div>").h("eq",t,{block:o},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><div class="oj-flex" data-bind="visible: !ko.unwrap($root.passwordEditable)"><div class="oj-flex-item"><label for="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w('-passwordConfidential">').h("i18n",t,{},{key:"components.httpBasicAuth.password.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-services-httpBasicAuth-mcs-').f(t.get(["viewMode"],!1),t,"h").w("-passwordConfidential\"type=\"password\"data-bind=\"ojComponent: { component: 'ojInputPassword',value: $root.componentsEnums.PLACEHOLDER_STRING_1,readOnly: true,rootAttributes: { class: 'bots-helper-max-width' },help: { source: 'http://www.oracle.com' } },botsHelpPopup: { summarykey: 'components.httpBasicAuth.password.helpSummaryReset' }\"></div>").h("eq",t,{block:n},{key:t.get(["viewMode"],!1),value:"update"},"h").w("</div></div></div><!-- /ko -->")}function s(e,t){return e.w('<div class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"data-bind="visible: credentials.anonymousKeyKey()"><a href="#" data-bind="event: { mousedown: $root.cancelEditAnonymousKey }">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymousKey.cancel"},"h").w("</a></div>")}function i(e,t){return e.w('<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end oj-md-align-items-center bots-helper-margin-bottom-8"><a href="#" data-bind="click: $root.resetAnonymousKey">').h("i18n",t,{},{key:"components.httpBasicAuth.anonymousKey.reset"},"h").w("</a></div><!-- /ko -->")}function o(e,t){return e.w('<div class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"data-bind="visible: credentials.passwordKey()"><a href="#" data-bind="event: { mousedown: $root.cancelEditMcsPassword }">').h("i18n",t,{},{key:"components.httpBasicAuth.password.cancel"},"h").w("</a></div>")}function n(e,t){return e.w('<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"><a href="#" data-bind="click: $root.resetPassword">').h("i18n",t,{},{key:"components.httpBasicAuth.password.reset"},"h").w("</a></div><!-- /ko -->")}return e.register("bots/components/custom/create.read.update.service.mcs",t),t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,n.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex" data-bind="visible: credentials.type() === \'package\' && packageFileName()"><div class="oj-flex-item"><label for="component-services-pkgFileDownloadLink-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-label-nocomp oj-flex-item"><a href="#" data-bind="botsHelpPopup: { summarykey: \'components.package.file.labelHelp\' }"></a>').h("i18n",t,{},{
key:"components.package.file.fileName"},"h").w('</label></div><div class="oj-flex-item"><div class="oj-flex-bar oj-form-non-control suite-helper-max-width suite-helper-wrap-all suite-helper-margin-top-7"><div class="oj-flex-bar-middle"><a tabindex="0" data-bind="text: packageFileName" id="component-services-pkgFileDownloadLink-').f(t.get(["viewMode"],!1),t,"h").w('"></a></div><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end"><a tabindex="0" data-bind="click: $root.changePackageFile" id="component-services-packageFilechange-').f(t.get(["viewMode"],!1),t,"h").w('">').h("i18n",t,{},{key:"components.package.file.changeFileText"},"h").w('</a></div><!-- /ko --></div></div></div><div class="bots-helper-max-width oj-flex oj-lg-align-items-center" data-bind="visible: credentials.type() === \'package\' && !packageFileName()"><div class="oj-flex-item"><label for="component-services-pkgFileUploadDropzone-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-label oj-flex-item"><a href="#" class="suite-helper-margin-left-10" data-bind="botsHelpPopup: { summarykey: \'components.package.file.labelHelp\' }"></a>').h("i18n",t,{},{key:"components.package.file.fileName"},"h").w('</label></div><div class="oj-flex-item"><div id="component-services-pkgFileUploadDropzone-').f(t.get(["viewMode"],!1),t,"h").w("\" required class=\"dropzone\"data-bind=\"visible: ['none', 'loading', 'error'].indexOf(packageFileUpload.fileStatus()) > -1\"><div id=\"component-services-pkgFileUploadInit-").f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center dropzone-content"data-bind="if: [\'none\', \'error\'].indexOf(packageFileUpload.fileStatus()) > -1"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-center"><div class="oj-flex-item oj-lg-12"><a data-bind="" id="component-services-pkgFileUploadImageLink-').f(t.get(["viewMode"],!1),t,"h").w('"><div class="dropDownIcon bots-col-center"></div></a></div></div><div class="oj-flex oj-lg-center"><div class="oj-flex-item"><a tabindex="0" data-bind="click: $root.clickUploadFile, enterKey" id="component-services-pkgFileUploadLink-').f(t.get(["viewMode"],!1),t,"h").w('">').h("i18n",t,{},{key:"components.package.file.fileLinkText"},"h").w("</a> ").h("i18n",t,{},{key:"components.package.file.dragText"},"h").w('</div></div></div></div><div id="component-services-pkgFileUploadProgress-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center dropzone-content"data-bind="if: packageFileUpload.fileStatus() === \'loading\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-center"><div class="oj-flex-item"><span class="dropzone-filename"data-bind="text: packageFileUpload.fileName"></span><span>').h("i18n",t,{},{key:"components.package.file.loadingText"},"h").w('</span><div class="progressbar"><div></div></div></div></div></div></div></div><input id="component-services-pkgFileUploadFile-').f(t.get(["viewMode"],!1),t,"h").w('" type="file" accept=".tgz" style="display: none" required=true /><div id="component-services-pkgFileUploadDone-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center bots-no-margin upload-success-container"data-bind="visible: packageFileUpload.fileStatus() === \'ready\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-align-items-center" style="display:flex"><div class="oj-flex-item upload-status-lg-1 bots-no-padding">').p("bots/common/inlinesvg",t,t,{width:"16",height:"16",project:"bots",basename:"stat_confirm_16"}).w('</div><div class="oj-flex-item upload-status-lg-9 bots-no-padding"><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><div class="upload-status-title" data-bind="text: packageFileUpload.fileName"></div><div> ').h("i18n",t,{},{key:"components.package.file.loadedText"},"h").w('</div></div></div><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><span></span></div></div></div>').h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"create"},"h").w('</div></div></div><div class="oj-flex oj-lg-center bots-no-margin upload-error-container"data-bind="visible: packageFileUpload.fileStatus() === \'error\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex" style="display:flex"><div class="oj-flex-item upload-error-lg-1 bots-no-padding">').p("bots/common/inlinesvg",t,t,{width:"16",height:"16",project:"bots",basename:"stat_error_16"}).w('</div><div class="oj-flex-item upload-error-lg-11 bots-no-padding"><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><span class="upload-error-title"data-bind="text: $root.i18n.translate(\'components.package.file.error.\'+packageFileUpload.fileError())"></span></div></div></div></div></div></div></div></div>')}function s(e,t){return e.w('<div class="oj-flex-item upload-status-lg-2" style="margin-left: 10px"><a tabindex="0" data-bind="click: $root.changeUploadFile" id="component-services-pkgFileUploadchange-').f(t.get(["viewMode"],!1),t,"h").w('" class="suite-helper-margin-left-10">').h("i18n",t,{},{key:"components.package.file.changeFileText"},"h").w("</a></div>")}return e.register("bots/components/custom/create.read.update.service.package",t),t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-services-create-dialog",sizeKlazz:"components-services-create-dialog",actionHandler:"$root.createService"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.createTitleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.p("bots/components/custom/create.read.update.service",t,t,{viewMode:"create",service:"service"})}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.createLabel",filter:"j"},"h").w("'")}e.register("bots/components/custom/create.service.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-services-delete-dialog",sizeKlazz:"components-services-delete-dialog",actionHandler:"$root.deleteService"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.deleteTitleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.w("<span data-bind=\"text: $root.i18n.translate('components.confirmDelete', ko.unwrap(service().name))\"></span>")}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.deleteLabel",filter:"j"},"h").w("'")}e.register("bots/components/custom/delete.service.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w("<!-- ko if: serviceCollection.items().length > 0 --><!-- ko if: $root.isServiceSelected() -->").p("bots/components/custom/service.details",t,t,{}).w("<!-- /ko --><!-- ko ifnot: $root.isServiceSelected() -->").p("bots/components/custom/component.details",t,t,{}).w("<!-- /ko --><!-- /ko -->")}return e.register("bots/components/custom/details",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(i),e.w('<div id="components-custom-content" class="components-custom-lv bots-custom-lv oj-flex"><div class="bots-helper-max-width"data-bind="visible: serviceCollection.items().length <= 0 && !isLoading() && !isFiltering() && !isAction()">').p("bots/components/custom/services.none",t,t,{}).w('</div><div class="bots-helper-max-width"data-bind="visible: serviceCollection.items().length > 0 || isFiltering() || isAction()">').p("bots/common/master.details",t,t,{masDetsIdPrefix:"components-services",navNewButtonLabelRbKey:"components.serviceLabel",navNewButtonHandler:"onClickNewService",onNavItemSelection:"onNavigationItemSelecion",navItemsDataSource:"serviceDS",navItemIdAttribute:"id",navItemIconProvider:"$root.onNavItemIconProvider",navFilterSearchByInputValue:"$root.searchBy",navItemIconKlazz:"components-mas-dets-icon",navItemTextAttribute:"name",navDrillMode:"collapsible"}).w("</div><!-- ko nobind -->").p("bots/components/custom/create.service.dialog",t,t,{}).p("bots/components/custom/delete.service.dialog",t,t,{}).p("bots/components/custom/log.viewer.dialog",t,t,{}).p("bots/components/custom/crash.report.dialog",t,t,{}).w("<!-- /ko --></div>")}function s(e,t){return t=t.shiftBlocks(i),e.p("bots/components/custom/details",t,t,{})}e.register("bots/components/custom/landing",t);var i={masDetsDetails_part:s};return t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex-items-pad"><div class="oj-flex"><div class="oj-flex-item"><textarea id="components-services-log" rows="20"data-bind="ojComponent: { component: \'ojTextArea\',value: logs,rootAttributes: { class: \'bots-helper-max-width\' },readOnly: true }" /></div></div></div>')}return e.register("bots/components/custom/log.view",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-services-log-viewer-dialog",sizeKlazz:"components-services-log-viewer-dialog",actionHandler:"refreshLog"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.diagnostics.logs.titleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.p("bots/components/custom/log.view",t,t,{})}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.diagnostics.logs.refreshLabel",filter:"j"},"h").w("'")}e.register("bots/components/custom/log.viewer.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div id="components-services-updatable-details" class="bots-helper-max-width bots-helper-margin-left-20 bots-helper-padding-right-20">').p("bots/components/custom/create.read.update.service",t,t,{viewMode:"update",service:"selectedServiceDetails"}).w("</div>")}return e.register("bots/components/custom/service.details",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(i),e.w("<div data-bind=\"ojComponent: { component: 'ojCollapsible',expanded: $root.headersController().expanded }\"><h3>").h("i18n",t,{},{key:"components.httpHeaders.label"},"h").w('<a href="#" class="suite-helper-margin-left-10"data-bind="botsHelpPopup: { summarykey: \'components.httpHeaders.headerHelp\' }"></a></h3><div><p>').h("i18n",t,{},{key:"components.httpHeaders.summary"},"h").w('</p><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar"><div class="oj-flex-bar-end"><button class="natural-button oj-button oj-widget oj-clickable-default oj-button-text-only bots-helper-margin-right-4"role="button" data-bind="ojComponent: { component: \'ojButton\' },click: function(data, evt) {if ($root.headersController()) {$root.headersController().addHttpHeader();}}"><span class="oj-button-text">').h("i18n",t,{},{key:"components.httpHeaders.addLabel"},"h").w('</span></button></div></div><!-- /ko --><div class="oj-flex-bar"><div class="oj-flex-bar-middle oj-sm-justify-content-center bots-tertiary-text"data-bind="if: !headers() || headers().length === 0,css: { \'bots-helper-margin-top-20\': !headers() || headers().length === 0 }">').h("i18n",t,{},{key:"components.httpHeaders.none"},"h").w('</div></div><!-- ko if: headers() --><div data-bind="foreach: headers"><div class="oj-flex oj-flex-items-pad oj-sm-align-items-center bots-helper-padding-top-6"><div class="oj-flex-item oj-md-4">').p("bots/common/ez.combobox",t,t,{noLabel:"true",nfl:"true",value:"name",options:"getStandardHeaders",multiple:"false",placeholder:"'* ' + $root.i18n.translate('components.httpHeaders.key.placeholder')",validators:"[ uniqueKeyValidator() ]",translationsPartGiven:"true",rootAttributes:"{ class: 'bots-helper-max-width' }"}).w('</div><div class="oj-flex-item oj-md-8"><input data-bind="attr: { id: \'components-services-').f(t.get(["viewMode"],!1),t,"h").w("-extra-header-value-' + ordinal },ojComponent: { component: 'ojInputText',value: value,placeholder: '* ' + $root.i18n.translate('components.httpHeaders.value.placeholder'),readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'),messageDetail: $root.i18n.translate('components.httpHeaders.value.required') } },rootAttributes: { class: 'bots-helper-max-width-halfchrome-button-after' } },lifecycleHook: { update: { callback: function(element) {if ($root.isDraftVersion() && $root.permissions().BOTS_WRITE) {$(element).ojInputText('widget').removeClass('bots-helper-margin-bottom-0');} else {$(element).ojInputText('widget').addClass('bots-helper-margin-bottom-0');}} } }\"><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><button class=\"bots-destyled-button\"data-bind=\"ojComponent: { component: 'ojButton',display: 'icons',icons: { start: 'bots-svgsprite-func-icon' },label: $root.i18n.translate('components.httpHeaders.deleteLabel'),rootAttributes: { class: 'bots-helper-margin-left-10' } },inlinesvg: { width: 16, height: 16, project: 'bots', basename: 'func_delete_16' },click: function(data, evt) {if ($root.headersController()) {$root.headersController().removeHttpHeader($index());}}\"></button><!-- /ko --></div></div></div><!-- /ko --></div></div>")}function s(e,t){return t=t.shiftBlocks(i),e.w("{ required: { messageSummary: $root.i18n.translate('general.notSoFast'),messageDetail: $root.i18n.translate('components.httpHeaders.key.required') } }")}e.register("bots/components/custom/service.details.httpheaders",t);var i={translationsPart:s};return t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(r),e.p("bots/common/no_content",t,t,{noContentId:"settings-services-no-content"})}function s(e,t){return t=t.shiftBlocks(r),e.p("bots/common/inlinesvg",t,t,{width:"96",height:"96",project:"bots",basename:"qual_components_96_mono",klazz:"suite-helper-192x192"})}function i(e,t){return t=t.shiftBlocks(r),e.h("i18n",t,{},{key:"components.none.title"},"h")}function o(e,t){return t=t.shiftBlocks(r),e.h("i18n",t,{},{key:"components.none.description"},"h")}function n(e,t){return t=t.shiftBlocks(r),e.w('<a href="#" data-bind="botsOpenInTab: { unikey: \'components.none.tellMeMore\' }"></a>')}function a(e,t){return t=t.shiftBlocks(r),e.w("<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><button class=\"green-button\"data-bind=\"click: onClickNewService,ojComponent: { component: 'ojButton',display: 'all',icons: { start: 'bots-svgsprite-cta-icon' },label: '").h("i18n",t,{},{key:"components.newService",filter:"j"},"h").w("' },inlinesvg: { width: 16, height: 16, project: 'bots', basename: 'func_plus_16' }\"></button><!-- /ko -->")}e.register("bots/components/custom/services.none",t);var r={noContentImgSection:s,noContentTitle:i,noContentDesc:o,noContentLink:n,noContentButton:a};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w('-webAppUrl">').h("i18n",t,{},{key:"components.webview.webAppUrl.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-webAppUrl\"data-bind=\"ojComponent: { component: 'ojInputText',value: webAppUrl,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.urlCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.webview.webAppUrl.placeholder",filter:"j"},"h").w("', translations: { required: { messageSummary: $root.i18n.translate('general.notSoFast'), messageDetail: $root.i18n.translate('components.webview.webAppUrl.required') } }, help: { source: 'http://www.oracle.com' } }, botsHelpPopup: { summarykey: 'components.webview.webAppUrl.helpSummary' }\"></div></div><div class=\"oj-flex\" data-bind=\"visible: ko.unwrap($root.authTokenEditable)\"><div class=\"oj-flex-item\"><label for=\"components-webviews-").f(t.get(["viewMode"],!1),t,"h").w('-authToken">').h("i18n",t,{},{key:"components.webview.authToken.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-authToken\"type=\"password\" data-bind=\"ojComponent: { component: 'ojInputPassword',value: authToken,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.authTokenCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.webview.authToken.placeholder",filter:"j"},"h").w("' }, hasFocus:$root.authTokenHasFocus\"></div>").h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><div class="oj-flex" data-bind="visible: !ko.unwrap($root.authTokenEditable)"><div class="oj-flex-item"><label for="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w('-authTokenConfidential">').h("i18n",t,{},{key:"components.webview.authToken.label"},"h").w('</label></div><div class="oj-flex-item oj-md-align-items-center"><div class="oj-flex-bar suite-helper-max-width"><div class="oj-flex-bar-middle"><input id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-authTokenConfidential\"type=\"password\"data-bind=\"ojComponent: { component: 'ojInputPassword',value: $root.componentsEnums.PLACEHOLDER_STRING_1,readOnly: true,rootAttributes: { class: 'bots-helper-max-width' },help: { source: 'http://www.oracle.com' } },botsHelpPopup: { summarykey: 'components.webview.authToken.helpSummaryReset' }\"></div>").h("eq",t,{block:i},{key:t.get(["viewMode"],!1),value:"update"},"h").w('</div></div></div><div class="oj-flex"><div class="oj-flex-item"><label for="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w('-queryParams">').h("i18n",t,{},{key:"components.webview.queryParams.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-queryParams\"data-bind=\"ojComponent: { component: 'ojInputText',value: queryParams,readOnly: !($root.isDraftVersion() && $root.permissions().BOTS_WRITE),rootAttributes: { class: 'bots-helper-max-width' },messagesCustom: $root.queryParamsCustomMessage,placeholder: '").h("i18n",t,{},{key:"components.webview.queryParams.placeholder",filter:"j"},"h").w("' }, hasFocus: $root.queryParamsHasFocus\"></div></div>")}function s(e,t){return e.w('<div    class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"data-bind="visible: authToken()"><a href="#" data-bind="event: { mousedown: $root.cancelEditAuthToken }">').h("i18n",t,{},{key:"components.webview.authToken.cancel"},"h").w("</a></div>")}function i(e,t){return e.w('<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end oj-md-align-items-center suite-helper-margin-bottom-8 suite-helper-margin-left-10"><a href="#" data-bind="click: $root.resetAuthToken">').h("i18n",t,{},{key:"components.webview.authToken.reset"},"h").w("</a></div><!-- /ko -->")}return e.register("bots/components/webview/create.read.update.webview.basic",t),t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-form oj-sm-labels-inline oj-xl-labels-inline oj-sm-odd-cols-5 oj-xl-odd-cols-3 oj-flex-items-pad"data-bind="with: ').f(t.get(["webview"],!1),t,"h").w('">').h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"update"},"h").w('<div class="oj-flex"><div class="oj-flex-item"><label for="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w('-name">').h("i18n",t,{},{key:"components.name.label"},"h").w('</label></div><div class="oj-flex-item"><input id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-name\"data-bind=\"ojComponent: { component: 'ojInputText',value: name,rootAttributes: { class: 'bots-helper-max-width' },readOnly: !$root.isDraftVersion() || !$root.permissions().BOTS_WRITE,required: $root.isDraftVersion() && $root.permissions().BOTS_WRITE,placeholder: '").h("i18n",t,{},{key:"components.name.placeholder",filter:"j"},"h").w('\',messagesCustom: $root.nameCustomMessage,validators: [ $root.botsValidators.botsOtherNameValidator,$root.uniqueNameValidator ],translations: { required: { messageSummary: $root.i18n.translate(\'general.notSoFast\'),messageDetail: $root.i18n.translate(\'components.name.required\') } } }"></div></div><div class="oj-flex"><div class="oj-flex-item"><label for="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w('-description">').h("i18n",t,{},{key:"components.description.label"},"h").w('</label></div><div class="oj-flex-item"><textarea id="components-webviews-').f(t.get(["viewMode"],!1),t,"h").w("-description\" rows=\"3\"data-bind=\"ojComponent: { component: 'ojTextArea',value: description,readOnly: !$root.isDraftVersion() || !$root.permissions().BOTS_WRITE,validators: [ $root.botsValidators.lengthValidator ],rootAttributes: { class: 'bots-helper-max-width' },placeholder: '").h("i18n",t,{},{key:"components.description.placeholder",filter:"j"},"h").w('\' }"></textarea></div></div><hr/><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex bots-helper-padding-top-5"><div class="oj-flex-item"><label for="components-webview-').f(t.get(["viewMode"],!1),t,"h").w('-hosted">').h("i18n",t,{},{key:"components.webview.hosted.label"},"h").w('</label></div><div class="oj-flex-item oj-flex-bar"><div class="oj-flex-bar-start"><input id="components-webview-').f(t.get(["viewMode"],!1),t,"h").w('-hosted"data-bind="ojComponent: { component: \'ojSwitch\',value: hosted }"></div></div></div><!-- /ko --><!-- ko if: hosted() -->').p("bots/components/webview/create.read.update.webview.package",t,t,{viewMode:t.get(["viewMode"],!1),webview:"webview"}).w("<!-- /ko --><!-- ko ifnot: hosted() -->").p("bots/components/webview/create.read.update.webview.basic",t,t,{viewMode:t.get(["viewMode"],!1),webview:"webview"}).w("<!-- /ko --></div>")}function s(e,t){return e.w('<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex bots-helper-padding-top-5"><div class="oj-flex-item"><label for="components-webview-').f(t.get(["viewMode"],!1),t,"h").w('-enabled">').h("i18n",t,{},{key:"components.enabled.label"},"h").w('</label></div><div class="oj-flex-item oj-flex-bar"><div class="oj-flex-bar-start"><input id="components-webview-').f(t.get(["viewMode"],!1),t,"h").w('-enabled"data-bind="ojComponent: { component: \'ojSwitch\',value: enabled }"></div><div class="oj-flex-bar-end"><button class="natural-button oj-button oj-widget oj-clickable-default oj-button-text-only bots-helper-margin-right-4"role="button"data-bind="ojComponent: { component: \'ojButton\' },click: $root.onClickDeleteWebview"><span class="oj-button-text">').h("i18n",t,{},{key:"components.webview.deleteLabel"},"h").w("</span></button></div></div></div><!-- /ko -->")}return e.register("bots/components/webview/create.read.update.webview",t),t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div class="oj-flex" data-bind="visible: hosted() && packageFileName()"><div class="oj-flex-item"><label for="component-webviews-pkgFileDownloadLink-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-label-nocomp oj-flex-item"><a href="#" data-bind="botsHelpPopup: { summarykey: \'components.webview.package.file.labelHelp\' }"></a>').h("i18n",t,{},{key:"components.webview.package.file.fileName"},"h").w('</label></div><div class="oj-flex-item"><div class="oj-flex-bar oj-form-non-control suite-helper-max-width suite-helper-wrap-all suite-helper-margin-top-7"><div class="oj-flex-bar-middle"><a tabindex="0" data-bind="text: packageFileName" id="component-webviews-pkgFileDownloadLink-').f(t.get(["viewMode"],!1),t,"h").w('"></a></div><!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><div class="oj-flex-bar-end"><a tabindex="0" data-bind="click: $root.changePackageFile" id="component-webviews-packageFilechange-').f(t.get(["viewMode"],!1),t,"h").w('">').h("i18n",t,{},{key:"components.webview.package.file.changeFileText"},"h").w('</a></div><!-- /ko --></div></div></div><div class="bots-helper-max-width oj-flex oj-lg-align-items-center" data-bind="visible: hosted() && !packageFileName()"><div class="oj-flex-item"><label for="component-webviews-pkgFileUploadDropzone-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-label oj-flex-item"><a href="#" class="suite-helper-margin-left-10" data-bind="botsHelpPopup: { summarykey: \'components.webview.package.file.labelHelp\' }"></a>').h("i18n",t,{},{key:"components.webview.package.file.fileName"},"h").w('</label></div><div class="oj-flex-item"><div id="component-webviews-pkgFileUploadDropzone-').f(t.get(["viewMode"],!1),t,"h").w("\" required class=\"dropzone\"data-bind=\"visible: ['none', 'loading', 'error'].indexOf(packageFileUpload.fileStatus()) > -1\"><div id=\"component-webviews-pkgFileUploadInit-").f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center dropzone-content"data-bind="if: [\'none\', \'error\'].indexOf(packageFileUpload.fileStatus()) > -1"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-center"><div class="oj-flex-item oj-lg-12"><a data-bind="" id="component-webviews-pkgFileUploadImageLink-').f(t.get(["viewMode"],!1),t,"h").w('"><div class="dropDownIcon bots-col-center"></div></a></div></div><div class="oj-flex oj-lg-center"><div class="oj-flex-item"><a tabindex="0" data-bind="click: $root.clickUploadFile, enterKey" id="component-webviews-pkgFileUploadLink-').f(t.get(["viewMode"],!1),t,"h").w('">').h("i18n",t,{},{key:"components.webview.package.file.fileLinkText"},"h").w("</a> ").h("i18n",t,{},{key:"components.webview.package.file.dragText"},"h").w('</div></div></div></div><div id="component-webviews-pkgFileUploadProgress-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center dropzone-content"data-bind="if: packageFileUpload.fileStatus() === \'loading\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-center"><div class="oj-flex-item"><span class="dropzone-filename"data-bind="text: packageFileUpload.fileName"></span><span>').h("i18n",t,{},{key:"components.webview.package.file.loadingText"},"h").w('</span><div class="progressbar"><div></div></div></div></div></div></div></div><input id="component-webviews-pkgFileUploadFile-').f(t.get(["viewMode"],!1),t,"h").w('" type="file" accept=".tgz" style="display: none" required=true /><div id="component-webviews-pkgFileUploadDone-').f(t.get(["viewMode"],!1),t,"h").w('" class="oj-flex oj-lg-center bots-no-margin upload-success-container"data-bind="visible: packageFileUpload.fileStatus() === \'ready\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex oj-lg-align-items-center" style="display:flex"><div class="oj-flex-item upload-status-lg-1 bots-no-padding">').p("bots/common/inlinesvg",t,t,{width:"16",height:"16",project:"bots",basename:"stat_confirm_16"}).w('</div><div class="oj-flex-item upload-status-lg-9 bots-no-padding"><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><div class="upload-status-title" data-bind="text: packageFileUpload.fileName"></div><div> ').h("i18n",t,{},{key:"components.webview.package.file.loadedText"},"h").w('</div></div></div><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><span></span></div></div></div>').h("eq",t,{block:s},{key:t.get(["viewMode"],!1),value:"create"},"h").w('</div></div></div><div class="oj-flex oj-lg-center bots-no-margin upload-error-container"data-bind="visible: packageFileUpload.fileStatus() === \'error\'"><div class="oj-flex-item oj-lg-12"><div class="oj-flex" style="display:flex"><div class="oj-flex-item upload-error-lg-1 bots-no-padding">').p("bots/common/inlinesvg",t,t,{width:"16",height:"16",project:"bots",basename:"stat_error_16"}).w('</div><div class="oj-flex-item upload-error-lg-11 bots-no-padding"><div class="oj-flex"><div class="oj-flex-item oj-lg-12 upload-status-icon-title-gap"><span class="upload-error-title"data-bind="text: $root.i18n.translate(\'components.webview.package.file.error.\'+packageFileUpload.fileError())"></span></div></div></div></div></div></div></div></div>')}function s(e,t){return e.w('<div class="oj-flex-item upload-status-lg-2" style="margin-left: 10px"><a tabindex="0" data-bind="click: $root.changeUploadFile" id="component-webviews-pkgFileUploadchange-').f(t.get(["viewMode"],!1),t,"h").w('" class="suite-helper-margin-left-10">').h("i18n",t,{},{key:"components.webview.package.file.changeFileText"},"h").w("</a></div>")}return e.register("bots/components/webview/create.read.update.webview.package",t),t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-webviews-create-dialog",sizeKlazz:"components-webviews-create-dialog",actionHandler:"$root.createWebview"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.webview.createTitleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.p("bots/components/webview/create.read.update.webview",t,t,{viewMode:"create",webview:"webview"})}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.webview.createLabel",filter:"j"},"h").w("'")}e.register("bots/components/webview/create.webview.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(n),e.p("bots/common/dialog/gray.dialog",t,t,{grayDialogId:"components-webviews-delete-dialog",sizeKlazz:"components-webviews-delete-dialog",actionHandler:"$root.deleteWebview"})}function s(e,t){return t=t.shiftBlocks(n),e.h("i18n",t,{},{key:"components.webview.deleteTitleLabel"},"h")}function i(e,t){return t=t.shiftBlocks(n),e.w("<span data-bind=\"text: $root.i18n.translate('components.webview.confirmDelete', ko.unwrap(webview().name))\"></span>")}function o(e,t){return t=t.shiftBlocks(n),e.w("'").h("i18n",t,{},{key:"components.webview.deleteLabel",filter:"j"},"h").w("'")}e.register("bots/components/webview/delete.webview.dialog",t);var n={titleLabel:s,bodyHtml:i,actionButtonLabel:o};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,t}(dust),function(e){function t(e,t){return e.w('<div id="components-webviews-updatable-details" class="bots-helper-max-width bots-helper-margin-left-20 bots-helper-padding-right-20">').p("bots/components/webview/create.read.update.webview",t,t,{viewMode:"update",webview:"selectedWebviewDetails"}).w("</div>")}return e.register("bots/components/webview/webview.detail",t),t.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(i),e.w('<div id="components-webview-tab-content"><div class="bots-helper-max-width"data-bind="visible: webviewCollection.items().length <= 0 && !isLoading() && !isFiltering() && !isAction()">').p("bots/components/webview/webviews.none",t,t,{}).w('</div><div class="bots-helper-max-width"data-bind="visible: webviewCollection.items().length > 0 || isFiltering() || isAction()">').p("bots/common/master.details",t,t,{masDetsIdPrefix:"components-webviews",navNewButtonLabelRbKey:"components.webview.webviewLabel",navNewButtonHandler:"onClickNewWebview",onNavItemSelection:"onNavigationItemSelecion",
navItemsDataSource:"webviewDS",navItemIdAttribute:"id",navItemIconProvider:"$root.onNavItemIconProvider",navFilterSearchByInputValue:"$root.searchBy",navItemTextAttribute:"name",navDeleteButtonHandler:"$root.onClickDeleteWebview",navDeleteButtonDisabler:"$root.isNotDeletable"}).w("</div><!-- ko nobind -->").p("bots/components/webview/create.webview.dialog",t,t,{}).p("bots/components/webview/delete.webview.dialog",t,t,{}).w("<!-- /ko --></div>")}function s(e,t){return t=t.shiftBlocks(i),e.p("bots/components/webview/webview.detail",t,t,{})}e.register("bots/components/webview/webview.tab",t);var i={masDetsDetails_part:s};return t.__dustBody=!0,s.__dustBody=!0,t}(dust),function(e){function t(e,t){return t=t.shiftBlocks(r),e.p("bots/common/no_content",t,t,{noContentId:"components-webview-no-content"})}function s(e,t){return t=t.shiftBlocks(r),e.p("bots/common/inlinesvg",t,t,{width:"96",height:"96",project:"bots",basename:"qual_components_96_mono",klazz:"suite-helper-192x192"})}function i(e,t){return t=t.shiftBlocks(r),e.h("i18n",t,{},{key:"components.webview.none.title"},"h")}function o(e,t){return t=t.shiftBlocks(r),e.h("i18n",t,{},{key:"components.webview.none.description"},"h")}function n(e,t){return t=t.shiftBlocks(r),e.w('<a href="#" data-bind="botsOpenInTab: { unikey: \'components.webview.none.tellMeMore\' }"></a>')}function a(e,t){return t=t.shiftBlocks(r),e.w("<!-- ko if: $root.isDraftVersion() && $root.permissions().BOTS_WRITE --><button data-bind=\"click: onClickNewWebview,ojComponent: { component: 'ojButton',display: 'all',icons: { start: 'bots-svgsprite-cta-icon' },label: '").h("i18n",t,{},{key:"components.webview.newService",filter:"j"},"h").w("' },inlinesvg: { width: 16, height: 16, project: 'bots', basename: 'func_plus_16' }\"class=\"green-button\"></button><!-- /ko -->")}e.register("bots/components/webview/webviews.none",t);var r={noContentImgSection:s,noContentTitle:i,noContentDesc:o,noContentLink:n,noContentButton:a};return t.__dustBody=!0,s.__dustBody=!0,i.__dustBody=!0,o.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(dust),define("bots.templates/components",function(){}),define("bots.package.components/components.enums",{HttpBasicAuthEnum:{PREBUILT:"prebuilt",BASIC:"basic",MCS:"mcs",PACKAGE:"package"},PLACEHOLDER_STRING_1:"_-_-_-_-_-_-_-_-_-_-_-_C O N F I D E N T I A L_-_-_-_-_-_-_-_-_-_-_-_-",PLACEHOLDER_STRING_2:"+=+=+=+=+=+=+=+=+=+=+=+C O N F I D E N T I A L+=+=+=+=+=+=+=+=+=+=+=+="}),define("bots.package.components/dataobject",["module","bots.i18n","mcs.js.framework/dataobject","bots.package.components/components.enums"],function(e,t,s,i){function o(e){var t=[],s=0;return _.each(_.keys(e),function(i){t.push({id:s,key:i,value:ko.unwrap(e[i])}),s++}),t}function n(e){var t=[],s=0;return _.each(ko.unwrap(e),function(e){t.push({id:s,value:e}),s++}),t}function a(e){return _.map(e,function(e){return e.required=ko.unwrap(e.value.required)?"true":"false",e.type=ko.unwrap(e.value.type),e})}var r=s.extend({module:e,name:"ComponentDataObject"},{ComponentDataObject:function(e){this.id=ko.observable(),this.name=ko.observable(),this.type=ko.observable(),this.properties=ko.observable(),this._super(e)},fromJS:function(e,t){this._super(e,t),this.componentProperties=ko.observable(a(o(this.properties()))),this.supportedActions=ko.observable(n(e.supportedActions)),this.icon=ko.observable("SYSTEM"===this.type()?"qual_system_16_mono":"qual_custom_16_mono")}}),l=s.extend({module:e,name:"ServiceDO"},{__static__:{mapping:{components:r}},ServiceDO:function(e){this.id=ko.observable(),this.name=ko.observable(),this.description=ko.observable(),this.components=ko.observableArray(),this._super(e)},fromJS:function(e,t){this._super(e,t),this.icon=ko.observable(),this.type=ko.observable("SERVICE")}}),d=s.extend({module:e,name:"ServicePackageFileUploadDO"},{__static__:{key:"fileName"},ServicePackageFileUploadDO:function(e){var t=this;this.fileStatus=ko.observable("none"),this.fileName=ko.observable(),this.fileReference=ko.observable(),this.fileError=ko.observable(),this.clearFile=function(){t.fileStatus("none"),t.fileName(null),t.fileReference(null),t.fileError("none")},this.uploadFile=function(e){this.fileStatus("loading"),this.fileName(e.name),this.fileReference(e),this.fileStatus("ready"),this.fileError("none")},this._super(e)}}),c=s.extend({module:e,name:"ServiceCredentialsDO"},{__static__:{key:"type"},ServiceCredentialsDO:function(e){this.type=ko.observable(i.HttpBasicAuthEnum.PACKAGE),this.username=ko.observable(),this.password=ko.observable(),this.passwordKey=ko.observable(),this.anonymous=ko.observable(!1),this.mobileBackendId=ko.observable(),this.anonymousKey=ko.observable(),this.anonymousKeyKey=ko.observable(),this._super(e)},fromJS:function(e,t){this._super(e,t),e&&(this.password(null),this.anonymousKey(null))},toJS:function(){var e=this._super();switch(e.type){case i.HttpBasicAuthEnum.BASIC:e.password===i.PLACEHOLDER_STRING_1&&delete e.password,e=_.pick(e,"type","username","password");break;case i.HttpBasicAuthEnum.MCS:e.anonymous?e=_.pick(e,"type","anonymous","mobileBackendId","anonymousKey"):(e.password===i.PLACEHOLDER_STRING_1&&delete e.password,e=_.pick(e,"type","anonymous","mobileBackendId","username","password"));break;case i.HttpBasicAuthEnum.PACKAGE:e={type:i.HttpBasicAuthEnum.PACKAGE}}return e}}),u=s.extend({module:e,name:"ServiceHeaderDO"},{__static__:{key:"name",lastOrdinal:0,standardHeaders:[{value:"Accept",label:"Accept"},{value:"Accept-Encoding",label:"Accept-Encoding"},{value:"Accept-Language",label:"Accept-Language"},{value:"Connection",label:"Connection"},{value:"Content-Encoding",label:"Content-Encoding"},{value:"Content-Length",label:"Content-Length"},{value:"Content-Type",label:"Content-Type"},{value:"Cookie",label:"Cookie"},{value:"Host",label:"Host"},{value:"Transfer-Encoding",label:"Transfer-Encoding"},{value:"User-Agent",label:"User-Agent"}]},ServiceHeaderDO:function(e){this.ordinal=this.__static__.lastOrdinal++,this.name=ko.observableArray([]),this.value=ko.observable(),this.ready=ko.computed(function(){return this.name().length>0&&this.value()},this,{deferEvaluation:!0}),this.getStandardHeaders=ko.computed(function(){var e,t=[];if(this.serviceParent&&this.serviceParent()&&this.serviceParent().monitor())for(var s=0;s<this.serviceParent().headers().length;s++)e=this.serviceParent().headers()[s],e!==this&&Array.isArray(e.name())&&e.name().length>0&&t.push(e.name()[0].toLowerCase());return 0===t.length?this.__static__.standardHeaders:_.filter(this.__static__.standardHeaders,function(e){return _.indexOf(t,e.value.toLowerCase())===-1})},this,{deferEvaluation:!0}),this.uniqueKeyValidator=ko.computed(function(){var e=this;return{validate:function(s,i){if(e.serviceParent&&e.serviceParent()&&e.serviceParent().headers()){var o=_.some(e.serviceParent().headers(),function(t){return t!==e&&(t.name()[0]&&s[0]&&t.name()[0].toLowerCase()===s[0].toLowerCase())});if(o)throw new oj.ValidatorError(t.translate("components.httpHeaders.key.alreadyExists.summary"),t.translate("components.httpHeaders.key.alreadyExists.detail"));_.some(e.__static__.standardHeaders,function(e){return e.value.toLowerCase()===s[0].toLowerCase()})&&e.serviceParent().monitor.valueHasMutated()}}}},this,{deferEvaluation:!0}),this._super(e)}}),p=s.extend({module:e,name:"ServiceDetailedDO"},{__static__:{key:"id",mapping:{headers:u}},ServiceDetailedDO:function(e){this.id=ko.observable(),this.name=ko.observable(),this.description=ko.observable(),this.version=ko.observable(),this.url=ko.observable(),this.credentials=new c,this.headers=ko.observableArray([]),this.monitor=ko.observable(!0),this.status=ko.observable(),this.statusCode=ko.observable(),this.statusMessage=ko.observable(),this.deploymentMetadata=null,this.nodeVersion=null,this.botsSdkVersion=null,this.enabled=ko.observable(),this.packageFileUpload=new d,this.packageFileName=ko.observable(),this.uploadFileOK=function(){return"package"!==this.credentials.type()||!this.packageFileUpload||("none"===this.packageFileUpload.fileStatus()?(this.packageFileUpload.fileStatus("error"),this.packageFileUpload.fileError("required")):this.packageFileUpload.fileName()||(this.packageFileUpload.fileStatus("error"),this.packageFileUpload.fileError("required")),"ready"===this.packageFileUpload.fileStatus())},this._super(e)},fromJS:function(e,t){var s=this;this._super(e,t),e&&(this.packageFileUpload=new d(e.packageFileUpload),e.packageFileName?this.credentials=new c({type:i.HttpBasicAuthEnum.PACKAGE}):e.credentials?this.credentials=new c(e.credentials):this.credentials=new c({type:i.HttpBasicAuthEnum.PREBUILT}),this.statusCode(e.status.code),this.statusMessage(e.status.message),e.deploymentMetadata&&(this.nodeVersion=e.deploymentMetadata.nodeVersion,this.botsSdkVersion=e.deploymentMetadata.botsSdkVersion)),this.headers&&this.headers()?_.each(this.headers(),function(e){e.serviceParent=ko.computed(function(){return s}),Array.isArray(e.name())||(e.name=ko.observableArray([e.name()]))}):this.headers=ko.observableArray([])},toJS:function(){var e=this._super();return this.credentials&&(e.credentials=this.credentials.toJS()),this.packageFileUpload&&(e.packageFileUpload=this.packageFileUpload.toJS()),e.headers?_.each(e.headers,function(e){Array.isArray(e.name)&&(e.name=e.name[0]),delete e.ordinal,delete e.ready,delete e.serviceParent,delete e.getStandardHeaders,delete e.uniqueKeyValidator}):e.headers=[],delete e.monitor,e}}),h=s.extend({module:e,name:"BotServicesDO"},{__static__:{key:"id",mapping:{items:p}},BotServicesDO:function(e){this.items=ko.observableArray([]),this._super(e)}}),m=s.extend({module:e,name:"WebviewDO"},{WebviewDO:function(e){this.id=ko.observable(),this.name=ko.observable(),this.description=ko.observable(),this._super(e)},fromJS:function(e,t){this._super(e,t)}}),v=s.extend({module:e,name:"WebviewPackageFileUploadDO"},{__static__:{key:"fileName"},WebviewPackageFileUploadDO:function(e){var t=this;this.fileStatus=ko.observable("none"),this.fileName=ko.observable(),this.fileReference=ko.observable(),this.fileError=ko.observable(),this.clearFile=function(){t.fileStatus("none"),t.fileName(null),t.fileReference(null),t.fileError("none")},this.uploadFile=function(e){this.fileStatus("loading"),this.fileName(e.name),this.fileReference(e),this.fileStatus("ready"),this.fileError("none")},this._super(e)}}),b=s.extend({module:e,name:"WebviewDetailedDO"},{__static__:{key:"id"},WebviewDetailedDO:function(e){this.id=ko.observable(),this.name=ko.observable(),this.description=ko.observable(),this.enabled=ko.observable(),this.hosted=ko.observable(),this.webAppUrl=ko.observable(),this.authToken=ko.observable(),this.queryParams=ko.observable(),this.packageFileUpload=new v,this.packageFileName=ko.observable(),this.monitor=ko.observable(!0),this.uploadFileOK=function(){return!this.hosted()||!this.packageFileUpload||("none"===this.packageFileUpload.fileStatus()?(this.packageFileUpload.fileStatus("error"),this.packageFileUpload.fileError("required")):this.packageFileUpload.fileName()||(this.packageFileUpload.fileStatus("error"),this.packageFileUpload.fileError("required")),"ready"===this.packageFileUpload.fileStatus())},this._super(e)},fromJS:function(e,t){this._super(e,t),e&&(this.packageFileUpload=new v(e.packageFileUpload))},toJS:function(){var e=this._super();return this.packageFileUpload&&(e.packageFileUpload=this.packageFileUpload.toJS()),delete e.monitor,e}}),f=s.extend({module:e,name:"BotWebviewsDO"},{__static__:{key:"id",mapping:{items:b}},BotWebviewsDO:function(e){this.items=ko.observableArray([]),this._super(e)}});return{ComponentDataObject:r,ServiceDO:l,ServiceCredentialsDO:c,ServiceHeaderDO:u,ServiceDetailedDO:p,BotServicesDO:h,WebviewDO:m,WebviewDetailedDO:b,BotWebviewsDO:f}}),define("bots.package.components/model.rest",["module","bots.model.rest","bots.i18n","bots.config"],function(e,t,s,i){var o=t.__class__.extend({module:e,name:"ComponentRestModel"},{config:{stringifyObjects:!0,prefix:"/services/{serviceId}/components",uriParams:{botId:function(){return i.getCurrentBot().id}}},ComponentRestModel:function(e){this._super(e)},getComponents:function(e,t){var s=_.pick(e,"orderBy","offset","limit","filterType","totalResults","disableFetch","type","q","exclude");this.restGet(t,this.config.prefix,{stringifyObjects:!1,data:s,uriParams:{serviceId:e.serviceId}})},downloadPackage:function(e,t){var s=this.processUrl("/services/{serviceId}/componentPackage",e);this.__static__.downloadFile(s,e.packageFileName,t)},getServiceLogs:function(e,t){this.restGet(t,"/services/{serviceId}/logs",{stringifyObjects:!1,dataType:"text",uriParams:{serviceId:e.id}})},getServiceCrashReports:function(e,t){this.restGet(t,"/services/{serviceId}/crashReports",{stringifyObjects:!1,data:{limit:1},uriParams:{serviceId:e.id}})},_createHostedService:function(e,t){var s=new FormData;s.append("request_body",JSON.stringify({name:e.name,type:"HOSTED",runtime:"node"})),s.append("attachment",e.packageFileUpload.fileReference);var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&t({status:i.status,data:JSON.parse(i.responseText)})};var o=this.processUrl("/services");i.open("POST",o),i.send(s)},_updateHostedService:function(e,t){var s=new FormData;s.append("request_body",JSON.stringify({name:e.name,type:"HOSTED",runtime:"node"})),s.append("attachment",e.packageFileUpload.fileReference);var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&t({status:i.status,data:JSON.parse(i.responseText)})};var o=this.processUrl("/services/{id}",e);i.open("PUT",o),i.send(s)},createService:function(e,t){return e.credentials&&"package"===e.credentials.type?"ready"===e.packageFileUpload.fileStatus?(e.type="HOSTED",void this._createHostedService(_.omit(e,"credentials","url"),t)):void 0:(e.type="CUSTOM",void this.restPost(t,"/services",{data:_.omit(e,"id","packageFileUpload","runtime","packageFileName")}))},getService:function(e,t){this.restGet(t,"/services/{serviceId}",{uriParams:{serviceId:e.id}})},updateService:function(e,t){var s=_.clone(e);if(e.credentials&&"package"===e.credentials.type){if(e.type="HOSTED",e.packageFileUpload&&"ready"===e.packageFileUpload.fileStatus)return void this._updateHostedService(_.omit(e,"credentials","url"),t);s.type="HOSTED",s=_.omit(s,"id","packageFileUpload","credentials")}else s.type="CUSTOM",s=_.omit(s,"id","packageFileUpload","runtime","packageFileName");this.restPut(t,"/services/{serviceId}",{data:s,uriParams:{serviceId:e.id}})},deleteService:function(e,t){this.restDelete(t,"/services/{serviceId}",{uriParams:{serviceId:e.id}})},downloadWebviewPackage:function(e,t){var s=this.processUrl("/webviews/{webviewId}/webviewPackage",e);this.__static__.downloadFile(s,e.packageFileName,t)},_createHostedWebview:function(e,t){var s=new FormData;s.append("request_body",JSON.stringify({name:e.name,description:e.description,hosted:e.hosted})),s.append("attachment",e.packageFileUpload.fileReference);var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&t({status:i.status,data:JSON.parse(i.responseText)})};var o=this.processUrl("/webviews");i.open("POST",o),i.send(s)},_updateHostedWebview:function(e,t){var s=new FormData;s.append("request_body",JSON.stringify({name:e.name,description:e.description,hosted:e.hosted})),s.append("attachment",e.packageFileUpload.fileReference);var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&t({status:i.status,data:JSON.parse(i.responseText)})};var o=this.processUrl("/webviews/{id}",e);i.open("PUT",o),i.send(s)},createWebview:function(e,t){return e.hosted?"ready"===e.packageFileUpload.fileStatus?void this._createHostedWebview(e,t):void 0:void this.restPost(t,"/webviews",{data:e})},getWebview:function(e,t){this.restGet(t,"/webviews/{webviewId}",{uriParams:{webviewId:e.id}})},updateWebview:function(e,t){var s=_.clone(e);if(e.hosted){if(e.packageFileUpload&&"ready"===e.packageFileUpload.fileStatus)return void this._updateHostedWebview(e,t);s=s}else s=s;this.restPut(t,"/webviews/{webviewId}",{data:s,uriParams:{webviewId:e.id}})},deleteWebview:function(e,t){this.restDelete(t,"/webviews/{webviewId}",{uriParams:{webviewId:e.id}})}});return new o(_.extend({},t.config,{baseUrl:t.config.baseUrl+"/bots/{botId}"}))}),define("bots.package.components/model",["module","mcs.js.framework/model.util","moment","bots.package.components/model.rest","bots.package.components/components.enums"],function(e,t,s,i,o){var n=i.__class__.extend({module:e,name:"FakeRestModel"},{__static__:{components:void 0},artificialDelay:500,FakeRestModel:function(e){this._super(e)},getComponents:function(e,t){var s=_.bind(function(){var s=_.map(this.__static__.components,function(e,t){return _.clone(e)});if(s=_.filter(s,function(t){return t.serviceIdForMock===e.serviceId}),s.length&&e.q&&"string"==typeof e.q){var i=e.q.toLowerCase();s=_.filter(s,function(e){return e.name.toLowerCase().indexOf(i)>=0})}if(s.length&&e.orderBy&&"string"==typeof e.orderBy){var o=e.orderBy.split(":");s=_.sortBy(s,function(e){return e[o[0]]}),"desc"===o[1]&&(s=s.reverse())}t({status:200,data:{items:s}})},this);this.__static__.components?s():(this.__static__.components={},this.restGet(_.bind(function(e){var t=e.data.items;t.forEach(_.bind(function(e){this.__static__.components[e.id]=_.clone(e)},this)),s()},this),"",{url:"/botsui/19.1.5-1907122019/mock/json/components.json"}))},_preProcessService:function(e,t){switch(e.credentials.type){case o.HttpBasicAuthEnum.BASIC:e.credentials.password&&e.credentials.password!==o.PLACEHOLDER_STRING_1?e.credentials.passwordKey=e.credentials.passwordKey||_.guid():t&&(e.credentials.password=t.credentials.password,e.credentials.passwordKey=t.credentials.passwordKey);break;case o.HttpBasicAuthEnum.MCS:e.credentials.anonymous?e.credentials.anonymousKey&&e.credentials.anonymousKey!==o.PLACEHOLDER_STRING_2?e.credentials.anonymousKeyKey=e.credentials.anonymousKeyKey||_.guid():t&&(e.credentials.anonymousKey=t.credentials.anonymousKey,e.credentials.anonymousKeyKey=t.credentials.anonymousKeyKey):e.credentials.password&&e.credentials.password!==o.PLACEHOLDER_STRING_1?e.credentials.passwordKey=e.credentials.passwordKey||_.guid():t&&(e.credentials.password=t.credentials.password,e.credentials.passwordKey=t.credentials.passwordKey)}},_postProcessService:function(e){var t=JSON.parse(JSON.stringify(e));switch(t.credentials.type){case o.HttpBasicAuthEnum.BASIC:t.credentials=_.pick(t.credentials,"type","username","passwordKey");break;case o.HttpBasicAuthEnum.MCS:t.credentials.anonymous?t.credentials=_.pick(t.credentials,"type","anonymous","mobileBackendId","anonymousKeyKey"):t.credentials=_.pick(t.credentials,"type","anonymous","mobileBackendId","username","passwordKey")}return t},createService:function(e,t){var s=this;_.delay(function(){e.id=_.guid(),s._preProcessService(e),s.getFakeBotAssets("services").push(e),t({status:201,data:s._postProcessService(e)})},this.__static__.artificialDelay)},getService:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findWhere(s.getFakeBotAssets("services"),{id:i});t(o?{status:200,data:s._postProcessService(o)}:{status:404})},this.__static__.artificialDelay)},updateService:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findIndex(s.getFakeBotAssets("services"),function(e){return e.id===i});o>-1&&(s._preProcessService(e,s.getFakeBotAssets("services")[o]),s.getFakeBotAssets("services")[o]=e),t(o>-1?{status:200,data:s._postProcessService(e)}:{status:404})},this.__static__.artificialDelay)},deleteService:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findIndex(s.getFakeBotAssets("services"),function(e){return e.id===i});o>-1&&s.getFakeBotAssets("services").splice(o,1),t({status:o>-1?204:404})},this.__static__.artificialDelay)},createWebview:function(e,t){var s=this;_.delay(function(){e.id=_.guid(),s.getFakeBotAssets("webviews").push(e),t({status:201})},this.__static__.artificialDelay)},getWebview:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findWhere(s.getFakeBotAssets("webviews"),{id:i});t(o?{status:200}:{status:404})},this.__static__.artificialDelay)},updateWebview:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findIndex(s.getFakeBotAssets("webviews"),function(e){return e.id===i});o>-1&&(s.getFakeBotAssets("webviews")[o]=e),t(o>-1?{status:200}:{status:404})},this.__static__.artificialDelay)},deleteWebview:function(e,t){var s=this;_.delay(function(){var i=e.id,o=_.findIndex(s.getFakeBotAssets("webviews"),function(e){return e.id===i});o>-1&&s.getFakeBotAssets("webviews").splice(o,1),t({status:o>-1?204:404})},this.__static__.artificialDelay)}},t.stubProxy);return new n({baseUrl:i.config.baseUrl})}),define("bots.package.components/facade",["module","bots.facade","bots.package.components/model"],function(e,t,s){var i=t.__class__.extend({module:e,name:"Facade"},{__static__:{globalChannels:{}},Facade:function(){this._super(),this.register({LOAD_COMPONENTS:{name:"get.components",handler:function(e){s.getComponents(e.data,_.bind(function(t){e.data=t,this.publish(e)},this))}},SELECT_SERVICE:{name:"components.select.service",handler:function(e){var t=e.data.id;e.data={status:200,id:t},this.publish(e)}},CREATE_SERVICE:{name:"components.create.service",handler:function(e){s.createService(e.data,_.bind(function(t){e.data=t,this.publish(e)},this))}},DOWNLOAD_PACKAGE:{name:"components.download.package",handler:function(e){s.downloadPackage(e.data,_.bind(function(t){e.data=t,this.publish(e)},this))}},LOAD_SERVICE:{name:"components.load.service",handler:function(e){var t=e.data.id;s.getService(e.data,_.bind(function(s){e.data=_.extend(s,{id:t}),this.publish(e)},this))}},GET_SERVICE_LOGS:{name:"components.get.logs",handler:function(e){var t=e.data.id();s.getServiceLogs(e.data,_.bind(function(s){e.data=_.extend(s,{id:t}),this.publish(e)},this))}},GET_SERVICE_CRASH_REPORTS:{name:"components.get.crashReports",handler:function(e){var t=e.data.id();s.getServiceCrashReports(e.data,_.bind(function(s){e.data=_.extend(s,{id:t}),this.publish(e)},this))}},UPDATE_SERVICE_TO_RELOAD_COMPONENTS:{name:"components.update.service.to.reload.components",handler:function(e){var t=e.data.id,i=e.data.name;s.updateService(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}},UPDATE_SERVICE:{name:"components.update.service",handler:function(e){var t=e.data.id,i=e.data.name;s.updateService(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}},DELETE_SERVICE:{name:"components.delete.service",handler:function(e){var t=e.data.id,i=e.data.name;s.deleteService(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}},SELECT_WEBVIEW:{name:"components.select.webview",handler:function(e){var t=e.data.id;e.data={status:200,id:t},this.publish(e)}},CREATE_WEBVIEW:{name:"components.create.webview",handler:function(e){s.createWebview(e.data,_.bind(function(t){e.data=t,this.publish(e)},this))}},DOWNLOAD_WEBVIEW_PACKAGE:{name:"components.download.webview.package",handler:function(e){s.downloadWebviewPackage(e.data,_.bind(function(t){e.data=t,this.publish(e)},this))}},LOAD_WEBVIEW:{name:"components.load.webview",handler:function(e){var t=e.data.id;s.getWebview(e.data,_.bind(function(s){e.data=_.extend(s,{id:t}),this.publish(e)},this))}},UPDATE_WEBVIEW_TO_RELOAD:{name:"components.update.webview.to.reload",handler:function(e){var t=e.data.id,i=e.data.name;s.updateWebview(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}},UPDATE_WEBVIEW:{name:"components.update.webview",handler:function(e){var t=e.data.id,i=e.data.name;s.updateWebview(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}},DELETE_WEBVIEW:{name:"components.delete.webview",handler:function(e){var t=e.data.id,i=e.data.name;s.deleteWebview(e.data,_.bind(function(s){e.data=_.extend(s,{id:t,name:i}),this.publish(e)},this))}}})}});return new i}),define("bots.package.components/router",["module","bots.router"],function(e,t){var s=t.__class__.extend({module:e,name:"Router"},{__static__:{baseRoute:"components",routes:{},routeEvents:{components:{route:"components",dom:"#bot-details-tab-components",template:"bots/components/body",container:"#bot-details-tab-components"}}},Router:function(e){this._super(e)}});return new s}),define("bots.package.components/view",["module","suite.package.util/messaging","bots.i18n","bots.config","bots.dataobject","bots.package.shell/validators","bots.package.view/view","moment","bots.package.components/dataobject","bots.package.components/facade","bots.package.components/router"],function(e,t,s,i,o,n,a,r,l,d,c){var u=a.extend({module:e,name:"ComponentsView"},{deps:{facade:d,router:c,i18n:s},ComponentsView:function(e){this._super(e)}});return new u({isSubView:!0,baseElement:"#bot-details-tab-components",contentElement:"#bot-details-tab-components",baseTemplate:"bots/components/body",baseTemplateElement:"#bot-details-tab-components"})}),define("bots.enums",{LifeCycleManagementEnum:{DRAFT:"DRAFT",PUBLISHED:"PUBLISHED",STOREBOUGHT:"STOREBOUGHT",LAST_UPDATED:"lastUpdated",SKILLSTORE:{NEW_VERSION_METADATA:"newVersionMetadata",NEW_VERSION_IMPORT:"newVersionImport"}},TrainingModelEnum:{SAKURA:"Sakura",TAMAO:"Tamao"},TrainingStatusEnum:{NO_DATA:"NO_DATA",ERROR:"ERROR",TRAINED:"TRAINED",TRAINING:"TRAINING"},ValidationStatusEnum:{NO_DATA:"NO_DATA",ERROR:"ERROR",TRAINED:"TRAINED",TRAINING:"TRAINING"},QualityTrainingTypeEnum:{SUGGESTIONS:"suggestions",UQE:"uqe",SIMILARITY:"similarity",SUGGESTEDDATA:"suggesteddata",ALL:"all"},ChannelTypeEnum:{FACEBOOK:{ordinal:1,value:"facebook",textRbKey:"channels.user.channelType.enums.facebook",basename:"messenger_24",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},WEBHOOK:{ordinal:2,value:"webhook",textRbKey:"channels.user.channelType.enums.webhook",basename:"qual_webhook_48_mono",viewBoxWidth:48,viewBoxHeight:48,category:"bot"},WEB:{ordinal:3,value:"web",textRbKey:"channels.user.channelType.enums.web",basename:"qual_web_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},IOS:{ordinal:4,value:"ios",textRbKey:"channels.user.channelType.enums.ios",basename:"qual_ios_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},ANDROID:{ordinal:5,value:"android",textRbKey:"channels.user.channelType.enums.android",basename:"qual_android_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},TWILIO:{ordinal:6,value:"twilio",textRbKey:"channels.user.channelType.enums.twilio",basename:"qual_twilio_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},WECHAT:{ordinal:7,value:"wechat",textRbKey:"channels.user.channelType.enums.wechat",imgSrc:"/botsui/19.1.5-1907122019/resources/images/wechat_24.svg",category:"bot"},SLACK:{ordinal:8,value:"slack",textRbKey:"channels.user.channelType.enums.slack",basename:"qual_slack_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},KAKAOTALK:{value:"kakaotalk",textRbKey:"channels.user.channelType.enums.kakaotalk",basename:"qual_kakaotalk_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},APPLICATION:{value:"application",textRbKey:"channels.user.channelType.enums.application",basename:"applicationschannel_24",viewBoxWidth:24,viewBoxHeight:24,category:"application"},TEST:{value:"test",textRbKey:"channels.user.channelType.enums.web",basename:"qual_system_16_mono",viewBoxWidth:16,viewBoxHeight:16,category:"bot"},SERVICE_CLOUD:{value:"serviceCloud",textRbKey:"channels.user.channelType.enums.serviceCloud",basename:"qual_liveagent_24_mono",viewBoxWidth:24,viewBoxHeight:24,category:"agent"},MSTEAMS:{ordinal:10,value:"msteams",textRbKey:"channels.user.channelType.enums.msteams",basename:"qual_msteams_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},CORTANA:{ordinal:11,value:"cortana",textRbKey:"channels.user.channelType.enums.cortana",basename:"qual_cortana_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},SKYPEFORBUSINESS:{ordinal:12,value:"skypeforbusiness",textRbKey:"channels.user.channelType.enums.skypeforbusiness",basename:"qual_skypeforbusiness_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},getOrderedCreatableChannels:function(){return _.sortBy(_.filter(this,function(e){return e.hasOwnProperty("ordinal")}),"ordinal")},toEnum:function(e){return _.find(this,function(t){return t.value===e})}},ChannelEnum:{CATEGORY_BOT:"bot",CATEGORY_AGENT:"agent",CATEGORY_APPLICATION:"application",APP_SCOPE_CHANNEL:"channel",APP_SCOPE_BOT:"bot",ROUTING_POLICY_CHANNEL:"channel",ROUTING_POLICY_FIXED:"fixed",ROUTING_POLICY_EXTERNAL:"external",FILTER_TYPE_BOT:"categoryBot",FILTER_TYPE_AGENT:"categoryAgent",FILTER_TYPE_APPLICATION:"categoryApplication",FILTER_TYPE_SYSTEM:"categorySystem"},BotConfigTypeEnum:{digital_assistant:"da.",system_conversation:"system.conversation",system_routing:"system.routing"},EntityTypeEnum:{SYSTEM:"SYSTEM",DERIVED:"DERIVED",ENUMVALUES:"ENUMVALUES",ENUMENTITIES:"ENUMENTITIES",PATTERNBASED:"PATTERNBASED",COMPOSITEBAG:"COMPOSITEBAG"},ComponentServiceStatusEnum:{AWAITING_DEPLOYMENT:{value:"awaitingDeployment",width:16,height:16,basename:"spinner_blue",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.awaitingDeployment.label",statusHintRbKey:"components.status.values.awaitingDeployment.labelHelp"},ERROR:{value:"error",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.error.label",statusHintRbKey:"components.status.values.error.labelHelp"},COMPONENT_LOAD_FAILED:{value:"componentLoadFailed",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.componentLoadFailed.label",statusHintRbKey:"components.status.values.componentLoadFailed.labelHelp"},CREATED:{value:"created",width:16,height:16,basename:"spinner_blue",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.created.label",statusHintRbKey:"components.status.values.created.labelHelp"},DEPLOYMENT_FAILED:{value:"deploymentFailed",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.deploymentFailed.label",statusHintRbKey:"components.status.values.deploymentFailed.labelHelp"},READY:{value:"ready",width:16,height:16,basename:"qual_ok_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.ready.label",statusHintRbKey:"components.status.values.ready.labelHelp"},toEnum:function(e){return _.find(this,function(t){return t.value===e})}},BotAssetEnum:{DA:{value:"ODA",statusRbKey:"NA",titleRbKey:["bots.tiles.da"],basename:["digital-assistant_24"],viewBox:[{width:24,height:24}],klazz:["bots-da-skill-color bots-helper-32x32"]},SKILL:{value:"USER",statusRbKey:["bots.status.DRAFT","bots.status.PUBLISHED"],titleRbKey:["bots.tiles.draft","bots.tiles.published"],basename:["qual_pagepencil_24","qual_lock_24"],viewBox:[{width:24,height:24},{width:24,height:24}],klazz:["bots-draft-skill-color","bots-published-skill-color"]},STOREBOUGHT:{value:"NA",statusRbKey:["bots.status.STOREBOUGHT","bots.status.UPDATE "],titleRbKey:["bots.tiles.storebought","bots.tiles.storeboughtUpdateAvailable"],basename:["qual_skill_store_24","qual_skill_store_update_32"],viewBox:[{width:24,height:24},{width:32,height:32}],klazz:["bots-store-skill-color","bots-store-skill-color"]},STOREAVAIL:{value:"NA",statusRbKey:["NA","NA","NA"],titleRbKey:["skillStore.tiles.available","skillStore.tiles.availableUpdate","skillStore.tiles.installed"],basename:["qual_skill_store_24","qual_skill_store_update_32","qual_skill_store_installed_32"],viewBox:[{width:24,height:24},{width:32,height:32},{width:32,height:32}],klazz:["bots-store-skill-color","bots-store-skill-color","bots-store-skill-color"]}},ConfigParameterTypes:{string:{type:"string",textRbKey:"settings.configuration.parameters.types.string"},int:{type:"int",textRbKey:"settings.configuration.parameters.types.int"},float:{type:"float",textRbKey:"settings.configuration.parameters.types.float"},boolean:{type:"boolean",textRbKey:"settings.configuration.parameters.types.boolean"}},ARTIFACT_NAME_VERSION_SEPARATOR:" • ",
DEFAULT_FAKE_LIMIT:"2147483647",PLACEHOLDER_STRING_1:"_-_-_-_-_-_-_-_-_-_-_-_C O N F I D E N T I A L_-_-_-_-_-_-_-_-_-_-_-_-",PLACEHOLDER_STRING_2:"+=+=+=+=+=+=+=+=+=+=+=+C O N F I D E N T I A L+=+=+=+=+=+=+=+=+=+=+=+="}),define("bots.collection",["mcs.js.framework/class","mcs.js.framework/dataobject","ojs/ojtable","ojs/ojtable-model","ojs/ojpagingcontrol"],function(e,t){var s=function(e){this.config=$.extend(!0,{},this.config,e),this.Init()};return oj.Object.createSubclass(s,oj.TableDataSource,"bots.Collection"),_.extend(s,{EventType:oj.TableDataSource.EventType,decodeParams:function(e){for(var t={},s=(e.split("?")[1]||"").split("&"),i=0;i<s.length;i++){var o=s[i].split("=");try{t[o[0]]=decodeURIComponent(o[1])}catch(e){t[o[0]]=o[1]}}return t},encodeParams:function(e){for(var t=[],s=0;s<e.length;s++){var i=e[s];null!==i&&void 0!==i&&""!==i&&t.push(s+"="+encodeURIComponent(i))}return t.length?"?"+t.join("&"):""},getPath:function(e,t){var i={};return(t.pageSize||t.limit)&&(i.offset=t.startIndex||t.offset||0,i.limit=t.pageSize||t.limit||20),_.extend(i,_.omit(t,["limit","offset"])),e+s.encodeParams(i)}}),_.extend(s.prototype,{config:{disableFetch:!1,facade:void 0,idAttribute:"id",pageSize:20,orderBy:void 0,searchBy:void 0,filterKeyword:void 0,filterType:[],totalResults:!0,searchByThrottle:750,filterKeywordThrottle:750,filterTypeThrottle:750,dataobjectClass:void 0,extraFields:{},disableExtraFieldsFetch:!1,mode:void 0,selectors:{ojPagingControl:void 0},capabilities:{sort:null},events:{load:{name:"LOAD_X_LIST",data:{}}}},hasMore:void 0,pageSize:void 0,totalSize:void 0,startIndex:void 0,orderBy:void 0,searchBy:void 0,filterKeyword:void 0,filterType:void 0,items:void 0,compoundObjects:[],_isResetting:!1,Init:function(){s.superclass.Init.call(this),this.config.facade=this.config.facade||require("bots.facade"),this.hasMore=ko.observable(!1),this.totalSize=ko.observable(0),this.orderBy=ko.observable(this.config.orderBy),this.orderBy.extend({notify:"always"}),this.searchBy=ko.observable(this.config.searchBy),this.previousSearchBy=this.searchBy(),this.filterKeyword=ko.observable(this.config.filterKeyword),this.previousFilterKeyword=this.filterKeyword(),this.filterType=ko.observableArray(this.config.filterType),this.previousFilterType=this.filterType(),this.startIndex=ko.observable(0),this.pageSize=ko.observable(this.config.pageSize),this.items=ko.observableArray(),this.mode=this.config.mode,this.compoundObjects=[],this.size=ko.computed(_.bind(function(){return(this.items()||[]).length},this)),this.itemsRefreshedCallback=ko.unwrap(this.config.itemsRefreshedCallback),"function"!=typeof this.itemsRefreshedCallback&&(this.itemsRefreshedCallback=void 0),this.throttledSearchBy=ko.computed(this.searchBy).extend({rateLimit:this.config.searchByThrottle}),this.throttledSearchBy.subscribe(function(e){if((""!==e||(this.searchBy(void 0),void 0!==this.previousSearchBy))&&(this.previousSearchBy=e,void 0!==e)){var t=ko.unwrap(this.config.selectors.ojPagingControl);t?$(t).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this),this.throttledFilterKeyword=ko.computed(this.filterKeyword).extend({rateLimit:this.config.filterKeywordThrottle}),this.throttledFilterKeyword.subscribe(function(e){if((""!==e||(this.filterKeyword(void 0),void 0!==this.previousFilterKeyword))&&(this.previousFilterKeyword=e,void 0!==e)){var t=ko.unwrap(this.config.selectors.ojPagingControl);t?$(t).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this),this.throttledFilterType=ko.computed(this.filterType).extend({rateLimit:this.config.filterTypeThrottle}),this.throttledFilterType.subscribe(_.bind(function(e){if((this.previousFilterType||(e||[]).length)&&!_.isEqual(e,this.previousFilterType)){this.previousFilterType=e;var t=ko.unwrap(this.config.selectors.ojPagingControl);t?$(t).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this)),this.orderBy.subscribe(_.bind(function(){this.fetch().then(_.bind(function(){this.handleEvent(s.EventType.SORT,this.orderByEvent())},this))},this)),this.extraFields={};var e=_.bind(function(){if(!this.config.disableExtraFieldsFetch){var e=ko.unwrap(this.config.selectors.ojPagingControl);e?$(e).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this);for(var t in this.config.extraFields){var i=this.config.extraFields[t];this.extraFields[t]=ko.isObservable(i)?i:ko.observable(i),this.extraFields[t].subscribe(e)}this._eventHandlers=[];var o=ko.unwrap(this.config.events);for(var n in o)if("create"===n||"update"===n||"delete"===n){var a={};a[o[n].name]={data:_.bind(this.listeners[n],this)},this.config.facade.listen(a)}},findLink:function(e,t){var s=_.find(e,function(e){return e.rel===t});return s?s.href:void 0},fetch:function(e){e=e||{};var t=ko.unwrap(this.items);if(this._isResetting)return this.resolveEmptyRequest();if(void 0!==e.disableFetch&&(this.config.disableFetch=e.disableFetch,e=_.omit(e,"disableFetch")),this.config.disableFetch)return this.resolveEmptyRequest();var i={},o=this.orderByStringValue(),n=ko.unwrap(this.config.events),a=ko.unwrap(n.load),r=void 0!==e.startIndex?null===e.startIndex?0:e.startIndex:this.startIndex()||0,l=_.extend({orderBy:o,offset:r,limit:e.pageSize||this.pageSize()||this.config.pageSize,q:this.searchBy(),filterKeyword:this.filterKeyword(),filterType:this.filterType().length?this.filterType().join(","):void 0,totalResults:!!this.config.totalResults||void 0},e,a.data||{});for(var d in this.config.extraFields)l[d]=this.extraFields[d]();l=_.omit(l,"pageSize","startIndex","silent","fetchType"),i[a.name]={data:l,permission:a.permission};var c=$.Deferred();this.handleEvent(s.EventType.REQUEST,{startIndex:r});var u={promise:!0};if(this.config.facade.isVisible){var p=this.config.facade;!p.isVisible()||p.bindings&&ko.isObservable(p.bindings.isLoading)&&p.bindings.isLoading()?u.loadingSpinner=!0:u.actionSpinner=!0}return this.config.facade.notify(i,u).always(_.bind(function(i){if(i||(i={status:200,data:{hasMore:!1,items:[],links:[],limit:0,totalResults:0}}),!i.data||i.status&&(i.status<200||i.status>=300))return this.handleEvent(s.EventType.ERROR,i),e.error&&setTimeout(e.error,0),c.reject(i),this.resolveEmptyRequest();var o,n=this.findLink(i.data.links,"self");if(n){var a=n.slice(n.indexOf("?"));o=parseInt(s.decodeParams(a).offset,10)}this.hasMore(!!i.data.hasMore);var l=void 0!==e.startIndex?e.startIndex:o||0,d=[],u=[];this.totalSize(i.data.totalResults);var p;if(i.data.items)for(this.config.dataobjectClass?this.config.dataobjectClass.__static__.fromJS(i.data.items,this.items):this.items(i.data.items),this.compoundObjects.length=0,p=0;p<i.data.items.length;p++)this.compoundObjects.push(this.toSingleCompoundObject(l+p,i.data.items[p])),d.push(i.data.items[p]),u.push(i.data.items[p][this.config.idAttribute]);"loadMore"===this.mode&&r>0&&this.items([].concat(t,this.items())),this.startIndex(l);var h={data:d,keys:u,startIndex:l};c.resolve($.extend(!0,{},h)),this.itemsRefreshedCallback&&this.itemsRefreshedCallback($.extend(!0,{},h)),this.handleEvent(s.EventType.SYNC,h),e.success&&setTimeout(e.success,10),e.reset&&!this._isResetting&&(this._isResetting=!0,this.handleEvent(s.EventType.RESET,{}),this._isResetting=!1)},this)),c},setPageSize:function(e){this.pageSize(e)},at:function(e,t){var s=this.startIndex(),i=s>-1&&this.compoundObjects.length>e-s?this.compoundObjects[e-s]:null;return $.Deferred().resolve(i)},get:function(e){for(var t=this.items(),s=0;s<t.length;s++){var i=ko.unwrap(t[s]);if(i[this.config.idAttribute]===e){var o=this.toSingleCompoundObject(s,i);return $.Deferred().resolve(o)}}return $.Deferred().resolve(null)},getCapability:function(e){return this.config.capabilities[e]||null},sort:function(e){if(e&&e.key){var t=e.key;"ascending"===e.direction?t+=":asc":"descending"===e.direction&&(t+=":desc"),this.orderBy(t)}},orderByStringValue:function(){var e=this.orderBy();return Array.isArray(e)&&e.length&&(e=e[0]),e},orderByEvent:function(){var e=this.orderByStringValue().split(":"),t="none";return"asc"===e[1]?t="ascending":"desc"===e[1]&&(t="descending"),{header:e[0],direction:t}},handleEvent:function(e,t){for(var s=0;s<this._eventHandlers.length;s++){var i=this._eventHandlers[s];i.eventType===e&&i.eventHandlerFunc(t)}},on:function(e,t){if("function"==typeof t){for(var s=!1,i=0;i<this._eventHandlers.length;i++)if(this._eventHandlers[i].eventType===e&&this._eventHandlers[i].eventHandlerFunc===t){s=!0;break}s||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})}},off:function(e,t){for(var s=this._eventHandlers.length-1;s>=0;s--)if(this._eventHandlers[s].eventType===e&&this._eventHandlers[s].eventHandlerFunc===t){this._eventHandlers.splice(s,1);break}},listeners:{create:function(e){var t=e.status>=200&&e.status<300||304===e.status;if(t){var i=this.items(),o=e.data||e,n=o;this.config.dataobjectClass&&(n=new this.config.dataobjectClass(n)),i.unshift(n),i.length>this.config.pageSize&&(this.length=this.config.pageSize),this.items(i),this.compoundObjects.unshift(this.toSingleCompoundObject(this.startIndex(),o)),this.compoundObjects.length>this.config.pageSize&&(this.compoundObjects.length=this.config.pageSize),this.totalSize(this.totalSize()+1),this.handleEvent(s.EventType.ADD,this.toAddRemoveChangeEventObject(this.startIndex(),o))}},update:function(e){var i=e.status>=200&&e.status<300||304===e.status;if(i){var o,n=this.items(),a=this.config.idAttribute,r=[],l=e.data||e;for(o=0;o<n.length;o++){var d,c=n[o];c instanceof t?(d=ko.isObservable(c[a])?c[a]():c[a],d===l[a]&&c.fromJS(l)):"object"==typeof c&&(d=c[a],d===l[a]&&_.extend(c,l)),r.push(c)}for(this.items(r),o=0;o<this.compoundObjects.length;o++){var u=this.compoundObjects[o];if(u.data[a]===l[a]){var p=this.startIndex()+o;this.compoundObjects[o]=this.toSingleCompoundObject(p,l),this.handleEvent(s.EventType.CHANGE,this.toAddRemoveChangeEventObject(p,l));break}}}},delete:function(e){var t=e.status>=200&&e.status<300||304===e.status;t&&this.fetch().then(_.bind(function(e){var t=this.totalSize()>0&&this.startIndex()>=0&&this.startIndex()>=this.totalSize(),s=ko.unwrap(this.config.selectors.ojPagingControl);t&&s&&_.defer(_.bind(function(){$(s).ojPagingControl("previousPage")},this))},this))}},toSingleCompoundObject:function(e,t){return{data:t,key:t[this.config.idAttribute],index:e}},toAddRemoveChangeEventObject:function(e,t){return{data:[t],keys:[t[this.config.idAttribute]],indexes:[e]}},resolveEmptyRequest:function(){return $.Deferred().resolve({data:[],keys:[],startIndex:0})}}),s}),define("bots.package.components/create.service",["module","bots.package.shell/validators","bots.package.view/dialog","bots.i18n","bots.package.components/components.enums"],function(e,t,s,i,o){var n,a=s.extend({module:e,name:"CreateServicePopup"},{config:{type:"ojDialog"},bindings:{isDraftVersion:{func:ko.observable,args:[!0]},botsValidators:t,componentsEnums:o,service:{func:ko.observable},nameCustomMessage:{func:ko.observableArray,args:[[]]},urlCustomMessage:{func:ko.observableArray,args:[[]]},usernameCustomMessage:{func:ko.observableArray,args:[[]]},passwordCustomMessage:{func:ko.observableArray,args:[[]]},mobileBackendIdCustomMessage:{func:ko.observableArray,args:[[]]},anonymousKeyCustomMessage:{func:ko.observableArray,args:[[]]},usernameHasFocus:{func:ko.observable,args:[!1]},passwordHasFocus:{func:ko.observable,args:[!1]},anonymousKeyHasFocus:{func:ko.observable,args:[!1]},passwordEditable:!0,anonymousKeyEditable:!0,headersController:{func:ko.observable},toCredentialsType:$.noop,uniqueNameValidator:{func:function(){var e=this;return{validate:function(t,s){if(!e.config.parentView.validateServiceName(t,e.bindings.service().name()))throw new oj.ValidatorError(i.translate("components.name.alreadyExists.summary"),i.translate("components.name.alreadyExists.detail"))}}}},createService:function(){this.deps.uiComponents.validateFields($(this.config.baseElement))&&this.validateUploadFile()&&(this.enableDefaultButton(!1),this._createService())},changeUploadFile:function(){this.bindings.clickUploadFile()},clickUploadFile:function(){$("#component-services-pkgFileUploadFile-create").trigger("click")}},CreateServicePopup:function(e){this._super(e)},open:function(){return this._super(),n=$.Deferred()},validateUploadFile:function(){return this.bindings.service().uploadFileOK()},_createService:function(){var e=this.bindings.service().toJS();this.notify({CREATE_SERVICE:{data:e}},{actionSpinner:!0,autoSave:"components.createServiceProgress"}).always(_.bind(function(e){if(e.status>201)if(400===e.status){var t=this.deps.messaging.lookupI18nError(e,"components.errors.createService");this.enableDefaultButton(!0),this.deps.messaging.showErrorPopup(i.translate("components.creationFailedTitleLabel"),t.message+i.translate("general.correctProblemPostamble"))}else this.deps.messaging.showI18nError(e,"components.errors.createService"),this.resetFields(),this.close(),n.reject(e),n=void 0;else this.resetFields(),this.close(),n.resolve(e),n=void 0},this))}});return a}),define("bots.package.components/delete.service",["module","bots.package.view/dialog","bots.i18n"],function(e,t,s){var i,o=t.extend({module:e,name:"DeleteServicePopup"},{config:{type:"ojDialog"},bindings:{service:{func:ko.observable,args:[{}]},deleteService:function(){this.deps.uiComponents.validateFields($(this.config.baseElement))&&(this.enableDefaultButton(!1),this._deleteService())}},DeleteServicePopup:function(e){this._super(e)},open:function(){return this._super(),i=$.Deferred()},_deleteService:function(){this.notify({DELETE_SERVICE:{data:{id:ko.unwrap(this.bindings.service().id),name:ko.unwrap(this.bindings.service().name)}}},{actionSpinner:!0}).always(_.bind(function(e){this.resetFields(),this.close(),e.status>204?(this.deps.messaging.showI18nError(e,"components.errors.deleteService"),i.reject(e)):i.resolve(e),i=void 0},this))}});return o}),define("bots.package.components/log.viewer",["module","bots.package.view/dialog","bots.i18n"],function(e,t,s){var i=t.extend({module:e,name:"LogViewerPopup"},{config:{type:"ojDialog"},bindings:{logs:{func:ko.observable},refreshLog:function(){this._viewLog()}},LogViewerPopup:function(e){this._super(e),this.parentView=e.parentView},open:function(){this._super(),this._viewLog()},_viewLog:function(){var e=this.parentView.bindings.selectedServiceDetails();this.notify({GET_SERVICE_LOGS:{data:e}},{actionSpinner:!0}).always(_.bind(function(e){e.status>204&&this.deps.messaging.showErrorPopup(s.translate("components.diagnostics.logs.getFailedTitleLabel"),s.translate("components.diagnostics.logs.error"))},this))}});return i}),define("bots.package.components/crash.report",["module","bots.package.view/dialog","bots.i18n"],function(e,t,s){var i=t.extend({module:e,name:"CrashReportPopup"},{config:{type:"ojDialog"},bindings:{reportDate:{func:ko.observable},reportDetails:{func:ko.observable},refreshCrashReport:function(){this._viewCrashReport()}},CrashReportPopup:function(e){this._super(e),this.parentView=e.parentView},open:function(){this._super(),this._viewCrashReport()},_viewCrashReport:function(){var e=this.parentView.bindings.selectedServiceDetails();this.notify({GET_SERVICE_CRASH_REPORTS:{data:e}},{actionSpinner:!0}).always(_.bind(function(e){e.status>204&&this.deps.messaging.showErrorPopup(s.translate("components.diagnostics.crashReport.getFailedTitleLabel"),s.translate("components.diagnostics.crashReport.error"))},this))}});return i}),define("bots.package.components/headers.controller",["module","mcs.js.framework/class","mcs.js.framework/defer","bots.i18n","bots.package.components/dataobject"],function(e,t,s,i,o){var n=t.extend({module:e,name:"HeadersController"},{config:{},HeadersController:function(e){this.config=_.extend(this.config,e||{})},expanded:s({func:ko.computed,args:[function(){return this.config.serviceDetailedDO&&this.config.serviceDetailedDO.headers().length>0},this,{deferEvaluation:!0}]}),addHttpHeader:s({func:function(){return function(){var e=this;if(this.config.serviceDetailedDO){if(this.config.serviceDetailedDO.headers()&&this.config.serviceDetailedDO.headers().length>0&&!_.last(this.config.serviceDetailedDO.headers()).ready())return void this.validate();var t=new o.ServiceHeaderDO;t.serviceParent=ko.computed(function(){return e.config.serviceDetailedDO}),this.config.serviceDetailedDO.headers.push(t),this.config.parentView&&this.config.parentView.manageHeaderAutoSave(!0,t)}}.bind(this)}}),removeHttpHeader:s({func:function(){return function(e){var t=this.config.serviceDetailedDO.headers.splice(e,1);this.config.parentView&&this.config.parentView.manageHeaderAutoSave(!1,t[0])}.bind(this)}}),validate:s({func:function(){return function(){var e,t,s=this,i=!0;return _.each(this.config.serviceDetailedDO.headers(),function(o){var n="components-services-{viewMode}-extra-header-".replace("{viewMode}",s.config.viewMode);e=$("#"+n+"name-"+o.ordinal),e.length>0&&(e.ojCombobox("validate")||(i=!1)),t=$("#"+n+"value-"+o.ordinal),t.length>0&&(t.ojInputText("validate")||(i=!1))}),i}.bind(this)}}),_resetValidation:s({func:function(){return function(e,t,s){var i=e.jquery?e:$(e);if(i.length>0){var o=i[t]("option","messages"),n=i[t]("option","messagesShown");!s||o&&o.length||!n||!n.length||i[t]("option","value",[]),i[t]("option","messages",[]),i[t]("reset")}}.bind(this)}}),resetValidations:s({func:function(){return function(){var e,t,s=this;_.each(this.config.serviceDetailedDO.headers(),function(i){var o="components-services-{viewMode}-extra-header-".replace("{viewMode}",s.config.viewMode);e=$("#"+o+"name-"+i.ordinal),e.length>0&&s._resetValidation(e,"ojCombobox",!0),t=$("#"+o+"value-"+i.ordinal),t.length>0&&s._resetValidation(t,"ojInputText")})}.bind(this)}})});return n}),define("bots.package.components/view.custom",["module","suite.package.util/messaging","bots.config","bots.enums","bots.package.view/view.assetcollection","bots.i18n","bots.package.components/facade","bots.package.components/dataobject","bots.package.components/router","bots.package.shell/validators","bots.package.shell/ui.components","bots.collection","bots.package.components/create.service","bots.package.components/delete.service","bots.package.components/log.viewer","bots.package.components/crash.report","moment","bots.package.components/headers.controller","bots.package.components/components.enums"],function(e,t,s,i,o,n,a,r,l,d,c,u,p,h,m,v,b,f,g){var w="components-services-",y=o.extend({module:e,name:"ComponentsCustomView"},{__static__:{CUSTOM_MESSAGE_LIST:["nameCustomMessage","urlCustomMessage","usernameCustomMessage","passwordCustomMessage","mobileBackendIdCustomMessage","anonymousKeyCustomMessage"],RELOAD_WAIT_TIME:5e3},config:{facade:a,dataObjectClass:r.ServiceDO},deps:{i18n:n,facade:a,router:l},bindings:{botsValidators:d,i18n:n,botsEnums:i,componentsEnums:g,serviceCollection:{func:function(){return this.bindings.assets=new u({facade:this,pageSize:10,idAttribute:"id",totalResults:!0,dataobjectClass:r.ServiceDO,orderBy:"name:asc",mode:"loadMore",disableFetch:!1,events:{load:{name:"LOAD_SERVICES"}}}),this.bindings.assets}},nameCustomMessage:{func:ko.observableArray,args:[[]]},urlCustomMessage:{func:ko.observableArray,args:[[]]},usernameCustomMessage:{func:ko.observableArray,args:[[]]},passwordCustomMessage:{func:ko.observableArray,args:[[]]},mobileBackendIdCustomMessage:{func:ko.observableArray,args:[[]]},anonymousKeyCustomMessage:{func:ko.observableArray,args:[[]]},usernameHasFocus:{func:function(){var e=this,t=ko.observable(!1);return t.subscribe(function(t){t&&(e.lastFieldHavingFocus="username")}),t}},passwordHasFocus:{func:function(){var e=this,t=ko.observable(!1);return t.subscribe(function(t){t&&(e.lastFieldHavingFocus="password")}),t}},anonymousKeyHasFocus:{func:function(){var e=this,t=ko.observable(!1);return t.subscribe(function(t){t&&(e.lastFieldHavingFocus="anonymousKey")}),t}},serviceDS:{func:ko.observable},componentPropertiesDS:{func:ko.computed,args:[function(){return new oj.ArrayTableDataSource(this.bindings.selectedComponent()?this.bindings.selectedComponent().componentProperties():[],{idAttribute:"id"})},this,{deferEvaluation:!0}]},componentSupportedActionsDS:{func:ko.computed,args:[function(){return new oj.ArrayTableDataSource(this.bindings.selectedComponent()?this.bindings.selectedComponent().supportedActions():[],{idAttribute:"id"})},this,{deferEvaluation:!0}]},selectedService:{func:function(){return this.bindings.selectedAsset=ko.observable(this.buildDataObject()),this.bindings.selectedAsset}},selectedComponent:{func:ko.observable},isServiceSelected:{func:ko.observable,args:[!0]},onNavigationItemSelecion:function(e,t){var s=this,i=t.value&&ko.unwrap(t.value);if("selection"===t.option&&i){var o=_.find(this.bindings.serviceCollection.items(),function(e){return ko.unwrap(e.id)===i});if(this.bindings.isServiceSelected(!!o),this._isSoftSelect)return void(this._isSoftSelect=!1);if(o)this._isComponentsLoaded(o)?this._loadServiceAndSync(i):this._loadComponents(o).always(function(e){s._loadServiceAndSync(i)});else{var n=_.find(this.componentsFlatArray,function(e){return ko.unwrap(e.id)===i});this.bindings.selectedComponent(n)}}},searchBy:{func:ko.observable},onNavItemIconProvider:function(e){var t=e.icon?{basename:ko.unwrap(e.icon),viewBoxWidth:24,viewBoxHeight:24}:"NA";return t},headersController:{func:function(){return ko.observable(new f)}},toCredentialsType:function(e){return n.translate("components.httpBasicAuth.enums."+ko.unwrap(e))},selectedServiceDetails:{func:function(){return ko.observable(new r.ServiceDetailedDO)}},uniqueNameValidator:{func:function(){var e=this;return{validate:function(t,s){if(!e.validateServiceName(t,e.bindings.selectedServiceDetails().name()))throw new oj.ValidatorError(n.translate("components.name.alreadyExists.summary"),n.translate("components.name.alreadyExists.detail"))}}}},passwordEditableBase:{func:ko.observable,args:[!1]},passwordEditable:{func:ko.computed,args:[function(){return this.bindings.isDraftVersion()&&(!this.bindings.selectedServiceDetails().credentials.passwordKey()||this.bindings.passwordEditableBase())},this,{deferEvaluation:!0}]},resetPassword:function(){this.bindings.passwordEditableBase(!0)},cancelEditBasicPassword:function(){return $(this.config.basicPasswordElement).ojInputPassword("reset"),this.bindings.passwordEditableBase(!1),this.bindings.passwordCustomMessage().length>0&&this.bindings.passwordCustomMessage([]),delete this._fieldsToAutoSave.password,this.ignoreNextPasswordChanged=!0,this.bindings.selectedServiceDetails().credentials.password(""),(this.$autoSaveSuspendedCloseButton||this._hasAnyCustomMessage())&&this._autoSave(),!1},cancelEditMcsPassword:function(){return $(this.config.mcsPasswordElement).ojInputPassword("reset"),this.bindings.passwordEditableBase(!1),this.bindings.passwordCustomMessage().length>0&&this.bindings.passwordCustomMessage([]),delete this._fieldsToAutoSave.password,this.ignoreNextPasswordChanged=!0,this.bindings.selectedServiceDetails().credentials.password(""),(this.$autoSaveSuspendedCloseButton||this._hasAnyCustomMessage())&&this._autoSave(),!1},anonymousKeyEditableBase:{func:ko.observable,args:[!1]},anonymousKeyEditable:{func:ko.computed,args:[function(){return this.bindings.isDraftVersion()&&(!this.bindings.selectedServiceDetails().credentials.anonymousKeyKey()||this.bindings.anonymousKeyEditableBase())},this,{deferEvaluation:!0}]},resetAnonymousKey:function(){this.bindings.anonymousKeyEditableBase(!0)},cancelEditAnonymousKey:function(){return $(this.config.anonymousKeyElement).ojInputText("reset"),this.bindings.anonymousKeyEditableBase(!1),this.bindings.anonymousKeyCustomMessage().length>0&&this.bindings.anonymousKeyCustomMessage([]),delete this._fieldsToAutoSave.anonymousKey,this.ignoreNextAnonymousKeyChanged=!0,this.bindings.selectedServiceDetails().credentials.anonymousKey(""),(this.$autoSaveSuspendedCloseButton||this._hasAnyCustomMessage())&&this._autoSave(),!1},logViewerPopup:{func:function(){return new m({isSubView:!0,baseElement:this.config.logViewerPopupElement,contentElement:this.config.logViewerPopupElement,parentView:this})}},crashReportPopup:{func:function(){return new v({isSubView:!0,baseElement:this.config.crashReportPopupElement,contentElement:this.config.crashReportPopupElement,parentView:this})}},createServicePopup:{func:function(){return new p({isSubView:!0,baseElement:this.config.createServicePopupElement,contentElement:this.config.createServicePopupElement,parentView:this})}},deleteServicePopup:{func:function(){return new h({isSubView:!0,baseElement:this.config.deleteServicePopupElement,contentElement:this.config.deleteServicePopupElement,parentView:this})}},onClickNewService:function(){var e=new r.ServiceDetailedDO;this.bindings.createServicePopup.bindings.headersController(new f({serviceDetailedDO:e,viewMode:"create"})),this.bindings.createServicePopup.bindings.service(e),this.bindings.createServicePopup.open(),this.setupFileEventHandlers("create")()},onClickDeleteService:function(e,t){this.bindings.deleteServicePopup.bindings.service(e),this.bindings.deleteServicePopup.open()},onClickReloadService:function(e,t){this._reloadService(e)},diagnosticActions:function(e,t){var s=$(t.item).attr("id");_.stringEndsWith(s,"log-viewer")?this.bindings.logViewerPopup.open():_.stringEndsWith(s,"crash-report")&&this.bindings.crashReportPopup.open()},isPrebuilt:function(e){return!_.isEmpty(e)&&!e.credentials},changePackageFile:function(){this.setupFileEventHandlers("update")(),this.bindings.clickUploadFile()},clickUploadFile:function(){$("#component-services-pkgFileUploadFile-update").trigger("click")}},currentComponentId:void 0,componentsFlatArray:[],previousSearchBy:void 0,_servicesWithComponents:{},_isSoftSelect:!1,_fieldsToAutoSave:{},lastFieldHavingFocus:void 0,ComponentsCustomView:function(e){this._super(e)},loadModule:function(e){this._servicesWithComponents={},this.currentComponentId=void 0,this.previousSearchBy=this.bindings.searchBy(),!this._super(e)},loadFile:function(e){e.target.files&&e.target.files.length>0&&(_.stringEndsWith(e.currentTarget.id,"-create")?this.bindings.createServicePopup.bindings.service().packageFileUpload.uploadFile(e.target.files[0]):(this.bindings.selectedServiceDetails().packageFileUpload.uploadFile(e.target.files[0]),this._autoSave()))},handleFileSelect:function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;t.length>=1&&(_.stringEndsWith(event.currentTarget.id,"-create")?_.stringEndsWith(t[0].name,".tgz")?this.bindings.createServicePopup.bindings.service().packageFileUpload.uploadFile(t[0]):(this.bindings.createServicePopup.bindings.service().packageFileUpload.fileStatus("error"),this.bindings.createServicePopup.bindings.service().packageFileUpload.fileError("fileType")):_.stringEndsWith(t[0].name,".tgz")?this.bindings.selectedServiceDetails().packageFileUpload.uploadFile(t[0]):(this.bindings.selectedServiceDetails().packageFileUpload.fileStatus("error"),this.bindings.selectedServiceDetails().packageFileUpload.fileError("fileType")))},handleDragOver:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},setupFileEventHandlers:function(e){var t=this;return function(){var s=document.getElementById("component-services-pkgFileUploadDropzone-"+e);s&&(s.addEventListener("dragover",t.handleDragOver,!1),s.addEventListener("drop",t.handleFileSelect,!1));var i=document.getElementById("component-services-pkgFileUploadFile-"+e);i&&i.addEventListener("change",t.loadFile,!1)}},clickDownload:function(){this.notify({DOWNLOAD_PACKAGE:{data:{serviceId:this.bindings.selectedServiceDetails().id(),packageFileName:this.bindings.selectedServiceDetails().packageFileName()}}},{actionSpinner:!0}).always(_.bind(function(e){this.log(n.translate("components.package.file.download.downloadDone"))},this))},fetchAssets:function(e){var t=this;this.bindings.selectedService(new r.ServiceDO),this._fetchServices().then(function(e){t._servicesLoaded(e)})},initModule:function(e){return!!this._super(e)&&void this.listen({CREATE_SERVICE:this._serviceCreated,LOAD_SERVICE:this._serviceLoaded,UPDATE_SERVICE:this._serviceUpdated,DELETE_SERVICE:this._serviceDeleted,DOWNLOAD_PACKAGE:this._packageDownloaded,BOT_SELECT:this._botSelected,UPDATE_SERVICE_TO_RELOAD_COMPONENTS:this._serviceUpdatedToReloadComponents,GET_SERVICE_LOGS:this._serviceLogsReturned,GET_SERVICE_CRASH_REPORTS:this._serviceCrashReportsReturned})},bindView:function(e){this._super(e),this.bindings.selectedComponent.subscribe(_.bind(function(e){if(this.isVisible()&&e){var t=ko.unwrap(e.id);this.currentComponentId!==t&&(this.currentComponentId||this._synchSelectedItem(e.id))}},this)),this.bindings.searchBy.subscribe(_.bind(function(e){var t=e||"",s=this.previousSearchBy||"";t!==s&&(this.previousSearchBy=e,this._reloadAllPreviouslyLoadedComponents(!0))},this)),$(this.config.navListElement).ojNavigationList({beforeExpand:function(e,t){var s=e.toElement||e.originalEvent&&e.originalEvent.target;return!s||"A"===(s.tagName||"").toUpperCase()},beforeCollapse:function(e,t){var s=e.toElement||e.originalEvent&&e.originalEvent.target;return!s||"A"===(s.tagName||"").toUpperCase()}}),$("#components-custom").on("click","#component-services-pkgFileDownloadLink-update",this.clickDownload)},validateServiceName:function(e,t){var s=t?_.reject(this.bindings.serviceCollection.items(),function(e){return e.name===t}):this.bindings.serviceCollection.items();return!_.some(s,function(t){return t.name===e})},manageHeaderAutoSave:function(e,t){var s=this;e?(this.serviceSubscriptions["header-name-"+t.ordinal]=t.name.subscribe(function(e){t.value()&&s._autoSave()}),this.serviceSubscriptions["header-value-"+t.ordinal]=t.value.subscribe(function(e){t.name().length>0&&s._autoSave()})):(this._disposeHeaderPartAutoSave("header-name-"+t.ordinal),this._disposeHeaderPartAutoSave("header-value-"+t.ordinal))},subscribeHeaders:function(e){var t=this;_.each(ko.unwrap(e),function(e){t.manageHeaderAutoSave(!0,e)})},_reloadAllPreviouslyLoadedComponents:function(e){var t=this,s=0,i=this.bindings.selectedService(),o=i&&ko.unwrap(i.id);_.each(this.bindings.serviceCollection.items(),_.bind(function(i){this._isComponentsLoaded(i)&&(e?(++s,this._loadComponents(i).always(function(e){--s,0===s&&o&&t._synchSelectedItem(o)})):i.components(this._getComponentsLoaded(i)))},this))},_loadComponents:function(e){var s=$.Deferred();return this.notify({LOAD_COMPONENTS:{data:{serviceId:ko.unwrap(e.id),q:this.bindings.searchBy()}}},{actionSpinner:!0}).always(_.bind(function(i){i.status>200?t.showI18nError(i,"entities.errors.failedLoad"):(r.ComponentDataObject.__static__.fromJS(i.data.items,e.components),this._setComponentsLoaded(e),this._reCreateServiceComponentDS()),s.resolve(i)},this)),s},_setComponentsLoaded:function(e){var t=ko.unwrap(e.id),s=ko.unwrap(e.components);s&&s.length>0&&(this._servicesWithComponents[t]=s)},_getComponentsLoaded:function(e){var t=ko.unwrap(e.id);return this._servicesWithComponents[t]},_isComponentsLoaded:function(e){return!!this._getComponentsLoaded(e)},_expandServiceNLItem:function(e){var t=this;this._isComponentsLoaded(e)&&_.defer(function(){$(t.config.navListElement).ojNavigationList("expand",ko.unwrap(e.id))})},_reCreateServiceComponentDS:function(){var e=[],t=this;this.componentsFlatArray=[],_.each(this.bindings.serviceCollection.items(),function(s){var i=[];_.each(s.components(),function(e){t.componentsFlatArray.push(e),i.push({attr:e.toJS(),children:[]})}),e.push({attr:s.toJS(),children:i})});var s=$(t.config.navListElement).ojNavigationList("getExpanded");this.bindings.serviceDS(new oj.JsonTreeDataSource(e)),_.defer(function(){_.each(s,function(e){$(t.config.navListElement).ojNavigationList("expand",e)})})},_synchSelectedItem:function(e){if(e){var t=this;_.defer(function(){t._isSoftSelect=!0,$(t.config.navListElement).ojNavigationList("option","selection",e),setTimeout(function(){t._isSoftSelect=!1},250)})}},_fetchServices:function(){var e=this,t=$.Deferred();return this.bindings.serviceCollection.fetch().always(function(s){s.data&&s.data.length&&e._reloadAllPreviouslyLoadedComponents(!1),t.resolve(s)}),t},_findServiceSummary:function(e){
var t=this.bindings.serviceCollection.items(),s=-1,i=_.find(t,function(t,i){return s=i,ko.unwrap(t.id)===e});return i&&(i.priorIndex=s>0?s-1:-1),i},_servicesLoaded:function(e){var t=this;_.defer(function(){if(t._reCreateServiceComponentDS(),e.data.length){var s=t.bindings.selectedService();if(s.id())t._loadComponents(s).always(function(e){t._loadServiceAndSync(s.id()),t._expandServiceNLItem(s)});else var i=t.bindings.selectedService.subscribe(function(e){e.id()&&(i.dispose(),t._loadComponents(t.bindings.selectedService()).always(function(s){t._loadServiceAndSync(e.id()),t._expandServiceNLItem(e)}))})}})},_loadServiceAndSync:function(e){var s=this;if(e){var i=this._findServiceSummary(e);this.bindings.selectedService(i),this.notify({LOAD_SERVICE:{data:{id:e}}},{actionSpinner:!0}).always(function(){t.showI18nError(_.filter(arguments,function(e){return e.status>200}),"components.errors.loadService",[s._findServiceSummary(e).name]),s._synchSelectedItem(e)})}},_disposeHeaderPartAutoSave:function(e){this.serviceSubscriptions.hasOwnProperty(e)&&(this.serviceSubscriptions[e].dispose(),delete this.serviceSubscriptions[e])},_disposeAutoSaveListeners:function(){for(var e in this.serviceSubscriptions)this.serviceSubscriptions.hasOwnProperty(e)&&this.serviceSubscriptions[e].dispose();this.serviceSubscriptions={}},_serviceLoaded:function(e){if(e&&e.data){var t=this;this._resetState();var s=new r.ServiceDetailedDO(e.data);this.bindings.headersController(new f({serviceDetailedDO:s,parentView:this,viewMode:"update"})),this.bindings.selectedServiceDetails(s),this._disposeAutoSaveListeners(),this.headersLastSize=(s.headers()||[]).length,_.each(_.extend({},_.pick(s,"name","description","url","headers","enabled"),_.pick(s.credentials,"type","username","password","anonymous","mobileBackendId","anonymousKey")),function(e,i){t.serviceSubscriptions[i]=e.subscribe(function(e){switch(this.field){case"name":t.serviceRenamed=!0;break;case"type":s.credentials.anonymousKey(null),s.credentials.anonymousKeyKey(null),s.credentials.username(null),s.credentials.password(null),s.credentials.passwordKey(null);break;case"anonymous":s.credentials.anonymousKey(null),s.credentials.anonymousKeyKey(null),s.credentials.username(null),s.credentials.password(null),s.credentials.passwordKey(null);break;case"username":if("username"!==t.lastFieldHavingFocus)return;t.lastFieldHavingFocus=void 0;break;case"password":if(t.ignoreNextPasswordChanged)return void(t.ignoreNextPasswordChanged=void 0);if(t.bindings.selectedServiceDetails().credentials.password()===g.PLACEHOLDER_STRING_1)return;if("password"!==t.lastFieldHavingFocus)return;t.passwordChanged=!0,t.lastFieldHavingFocus=void 0;break;case"anonymousKey":if(t.ignoreNextAnonymousKeyChanged)return void(t.ignoreNextAnonymousKeyChanged=void 0);if(t.bindings.selectedServiceDetails().credentials.anonymousKey()===g.PLACEHOLDER_STRING_2)return;if("anonymousKey"!==t.lastFieldHavingFocus)return;t.anonymousKeyChanged=!0,t.lastFieldHavingFocus=void 0;break;case"headers":if(Array.isArray(e)&&e.length>t.headersLastSize)return}t._fieldsToAutoSave[this.field]=e,t._autoSave()},{field:i})}),this.subscribeHeaders(s.headers),_.defer(function(){c.validateFields($(t.config.updatableServiceDetailsElement))}),e.data.status&&e.data.status.code&&([i.ComponentServiceStatusEnum.AWAITING_DEPLOYMENT.value,i.ComponentServiceStatusEnum.CREATED.value].indexOf(e.data.status.code)>-1?setTimeout(function(){t._loadServiceAndSync(e.data.id)},t.__static__.RELOAD_WAIT_TIME):[i.ComponentServiceStatusEnum.READY.value].indexOf(e.data.status.code)>-1&&!this._isComponentsLoaded(t.bindings.selectedService())&&t._loadComponents(t.bindings.selectedService()).always(function(e){t._expandServiceNLItem(t.bindings.selectedService())}))}},_serviceCreated:function(e){var t,s=this;e&&e.data&&(t=e.data.id,this._fetchServices().then(function(e){var i=s._findServiceSummary(t);s._loadComponents(i).always(function(e){s._loadServiceAndSync(ko.unwrap(i.id))})}))},_serviceUpdated:function(e){var t,s=this;e&&e.status<=204&&(this.serviceRenamed?(this.serviceRenamed=!1,t=e.data.id,this._fetchServices().then(function(e){s._reCreateServiceComponentDS(),s._synchSelectedItem(t)})):this._serviceUpdatedToReloadComponents(e))},_serviceDeleted:function(e){var s=this;e&&e.status<=204&&(t.showConfirmation(n.translate("components.deleted",ko.unwrap(e.name))),this._fetchServices().then(function(e){var t=s.bindings.serviceCollection.items().length&&s.bindings.serviceCollection.items()[0];if(t){var i=ko.unwrap(t.id);s._loadComponents(t).always(function(e){s._loadServiceAndSync(i)})}}))},_serviceUpdatedToReloadComponents:function(e){if(e&&e.status<=204){var s=this,i=this.bindings.selectedService();this._loadComponents(i).always(function(o){200===o.status&&(t.showConfirmation(n.translate("components.updated",ko.unwrap(e.name))),s._loadServiceAndSync(ko.unwrap(i.id)))})}},_packageDownloaded:function(e){e&&e.status&&e.status>204&&t.showError(n.translate("components.package.file.downloadFailed"))},_reloadService:function(e){var s=this,i=s.bindings.selectedService().toJS();"package"===ko.unwrap(e.credentials.type)?this._loadComponents(s.bindings.selectedService()).always(function(e){s._loadServiceAndSync(i.id),s._expandServiceNLItem(s.bindings.selectedService())}):this.notify({UPDATE_SERVICE_TO_RELOAD_COMPONENTS:{data:i}},{actionSpinner:!0}).always(function(e){t.showI18nError(_.filter(arguments,function(e){return e.status>204}),"components.error.updateService",[s.bindings.selectedService().name])})},_serviceLogsReturned:function(e){return e&&e.id&&this.bindings.isServiceSelected()&&this.bindings.selectedService().id()===e.id?void this.bindings.logViewerPopup.bindings.logs(e.data):void this.bindings.logViewerPopup.bindings.logs(n.translate("components.diagnostics.logs.noLogs"))},_serviceCrashReportsReturned:function(e){if(e&&e.id&&this.bindings.isServiceSelected()&&this.bindings.selectedService().id()===e.id&&e.data.items){var t=e.data.items;if(t.length>0){var s=b(t[0].createdOn);return this.bindings.crashReportPopup.bindings.reportDate(s.calendar()),void this.bindings.crashReportPopup.bindings.reportDetails(t[0].details)}}this.bindings.crashReportPopup.bindings.reportDate(null),this.bindings.crashReportPopup.bindings.reportDetails(n.translate("components.diagnostics.crashReport.noReport"))},_resetState:function(){this.serviceRenamed=!1,this.$autoSaveSuspendedCloseButton&&(this.$autoSaveSuspendedCloseButton.click(),this.$autoSaveSuspendedCloseButton=void 0),this.passwordChanged=!1,this.bindings.passwordEditableBase(!1),this.anonymousKeyChanged=!1,this.bindings.anonymousKeyEditableBase(!1),this._clearCustomMessages(),this._fieldsToAutoSave={}},_autoSave:function(){var e=this;_.defer(function(){var s;if(e._stashCustomMessages(),c.validateFields($(e.config.updatableServiceDetailsElement))){e.$autoSaveSuspendedCloseButton&&(e.$autoSaveSuspendedCloseButton.click(),e.$autoSaveSuspendedCloseButton=void 0);var i=e.bindings.selectedServiceDetails().toJS();e.passwordChanged&&e.bindings.passwordEditableBase(!1),e.anonymousKeyChanged&&e.bindings.anonymousKeyEditableBase(!1),e.notify({UPDATE_SERVICE:{data:i}},{actionSpinner:!0,autoSave:!0}).always(function(s){t.showI18nError(_.filter(arguments,function(e){return e.status>204}),"components.error.updateService",[e.bindings.selectedService().name]),400===s.status?(e.passwordChanged&&e.bindings.passwordEditableBase(!0),e.anonymousKeyChanged&&e.bindings.anonymousKeyEditableBase(!0),e._popCustomMessages(),e._handleCustomMessages(s)):(e.passwordChanged=!1,e.anonymousKeyChanged=!1,e._clearCustomMessages(),e._fieldsToAutoSave={})})}else s=t.showError(n.translate("components.autoSaveSuspended")),s&&(e.$autoSaveSuspendedCloseButton=s),e._popCustomMessages()})},_clearCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this.bindings[e]([]),this[e]=[]},this)},_stashCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this[e]=this.bindings[e].slice(0)||[]},this)},_popCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this.bindings[e](this[e])},this)},_hasAnyCustomMessage:function(){return _.some(this.__static__.CUSTOM_MESSAGE_LIST,function(e){return this.bindings[e]().length>0},this)},_hasMultipleCustomMessage:function(){var e=0;return _.some(this.__static__.CUSTOM_MESSAGE_LIST,function(t){return this.bindings[t]().length>0&&e++,e>1},this)},_countMultipleCustomMessages:function(){var e=0;return _.each(this.__static__.CUSTOM_MESSAGE_LIST,function(t){this.bindings[t]().length>0&&e++},this),e},_checkMultipleCustomMessages:function(e){var t=this._countMultipleCustomMessages();return 0===e().length&&1===t?(_.some(this.__static__.CUSTOM_MESSAGE_LIST,function(e){return!!(this.bindings[e]().length>0&&this.bindings[e]()[0].rbkey)&&(this.bindings[e]()[0].summary=n.translate(this.bindings[e]()[0].rbkey+"Plus"),this.bindings[e]()[0].severity=oj.Message.SEVERITY_TYPE.WARNING,this.bindings[e].valueHasMutated(),!0)},this),!0):t>1},_handleCustomMessages:function(e){var s,i=t.lookupI18nError(e,"components.errors.updateService");_.each(this._fieldsToAutoSave,function(e,t){switch(t){case"name":"53044"===i.code&&this.bindings.nameCustomMessage([{summary:n.translate("components.name.alreadyExists.summary"),detail:i.message,severity:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"url":s=this._checkMultipleCustomMessages(this.bindings.urlCustomMessage),this.bindings.urlCustomMessage([{rbkey:"components.httpBasicAuth.url.invalidURL.summary",summary:n.translate("components.httpBasicAuth.url.invalidURL.summary"+(s?"Plus":"")),detail:n.translate("components.httpBasicAuth.url.invalidURL.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"username":s=this._checkMultipleCustomMessages(this.bindings.usernameCustomMessage),this.bindings.usernameCustomMessage([{rbkey:"components.httpBasicAuth.username.invalidUserName.summary",summary:n.translate("components.httpBasicAuth.username.invalidUserName.summary"+(s?"Plus":"")),detail:n.translate("components.httpBasicAuth.username.invalidUserName.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"password":s=this._checkMultipleCustomMessages(this.bindings.passwordCustomMessage),this.bindings.passwordCustomMessage([{rbkey:"components.httpBasicAuth.password.invalidPassword.summary",summary:n.translate("components.httpBasicAuth.password.invalidPassword.summary"+(s?"Plus":"")),detail:n.translate("components.httpBasicAuth.password.invalidPassword.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"mobileBackendId":s=this._checkMultipleCustomMessages(this.bindings.mobileBackendIdCustomMessage),this.bindings.mobileBackendIdCustomMessage([{rbkey:"components.httpBasicAuth.mobileBackendId.invalidMobileBackendId.summary",summary:n.translate("components.httpBasicAuth.mobileBackendId.invalidMobileBackendId.summary"+(s?"Plus":"")),detail:n.translate("components.httpBasicAuth.mobileBackendId.invalidMobileBackendId.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"anonymousKey":s=this._checkMultipleCustomMessages(this.bindings.anonymousKeyCustomMessage),this.bindings.anonymousKeyCustomMessage([{rbkey:"components.httpBasicAuth.anonymousKey.invalidAnonymousKey.summary",summary:n.translate("components.httpBasicAuth.anonymousKey.invalidAnonymousKey.summary"+(s?"Plus":"")),detail:n.translate("components.httpBasicAuth.anonymousKey.invalidAnonymousKey.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}])}},this)},_botSelected:function(e){e.selectedBot&&e.selectedBot.id!==this.lastBotId&&(this.lastBotId=e.selectedBot.id,this.bindings.selectedService(this.buildDataObject()))}});return new y({isSubView:!0,baseElement:"#components-custom",contentElement:"#components-custom-content",baseTemplate:"bots/components/custom/landing",baseTemplateElement:"#components-custom",navListElement:"#"+w+"nav-list",logViewerPopupElement:"#"+w+"log-viewer-dialog",crashReportPopupElement:"#"+w+"crash-report-dialog",createServicePopupElement:"#"+w+"create-dialog",deleteServicePopupElement:"#"+w+"delete-dialog",updatableServiceDetailsElement:"#"+w+"updatable-details",basicPasswordElement:"#"+w+"httpBasicAuth-basic-update-password",mcsPasswordElement:"#"+w+"httpBasicAuth-mcs-update-password",anonymousKeyElement:"#"+w+"httpBasicAuth-mcs-update-anonymousKey"})}),define("bots.package.components/create.webview",["module","bots.package.shell/validators","bots.package.view/dialog","bots.i18n","bots.package.components/components.enums"],function(e,t,s,i,o){var n,a=s.extend({module:e,name:"CreateWebviewPopup"},{config:{type:"ojDialog"},bindings:{isDraftVersion:{func:ko.observable,args:[!0]},botsValidators:t,componentsEnums:o,webview:{func:ko.observable},nameCustomMessage:{func:ko.observableArray,args:[[]]},webAppUrlCustomMessage:{func:ko.observableArray,args:[[]]},queryParamsCustomMessage:{func:ko.observableArray,args:[[]]},authTokenCustomMessage:{func:ko.observableArray,args:[[]]},queryParamsHasFocus:{func:ko.observable,args:[!1]},authTokenHasFocus:{func:ko.observable,args:[!1]},authTokenEditable:!0,uniqueNameValidator:{func:function(){var e=this;return{validate:function(t,s){if(!e.config.parentView.validateWebviewName(t,e.bindings.webview().name()))throw new oj.ValidatorError(i.translate("components.name.alreadyExists.summary"),i.translate("components.name.alreadyExists.detail"))}}}},createWebview:function(){this.deps.uiComponents.validateFields($(this.config.baseElement))&&this.validateUploadFile()&&(this.enableDefaultButton(!1),this._createWebview())},changeUploadFile:function(){this.bindings.clickUploadFile()},clickUploadFile:function(){$("#component-webviews-pkgFileUploadFile-create").trigger("click")}},CreateWebviewPopup:function(e){this._super(e)},open:function(){return this._super(),n=$.Deferred()},validateUploadFile:function(){return this.bindings.webview().uploadFileOK()},_createWebview:function(){var e=this.bindings.webview().toJS();this.notify({CREATE_WEBVIEW:{data:e}},{actionSpinner:!0,autoSave:"components.createWebviewProgress"}).always(_.bind(function(e){if(e.status>201)if(400===e.status){var t=this.deps.messaging.lookupI18nError(e,"components.errors.createService");this.enableDefaultButton(!0),this.deps.messaging.showErrorPopup(i.translate("components.creationFailedTitleLabel"),t.message+i.translate("general.correctProblemPostamble"))}else this.deps.messaging.showI18nError(e,"components.errors.createService"),this.resetFields(),this.close(),n.reject(e),n=void 0;else this.resetFields(),this.close(),n.resolve(e),n=void 0},this))}});return a}),define("bots.package.components/delete.webview",["module","bots.package.view/dialog","bots.i18n"],function(e,t,s){var i,o=t.extend({module:e,name:"DeleteWebviewPopup"},{config:{type:"ojDialog"},bindings:{webview:{func:ko.observable,args:[{}]},deleteWebview:function(){this.deps.uiComponents.validateFields($(this.config.baseElement))&&(this.enableDefaultButton(!1),this._deleteWebview())}},DeleteWebviewPopup:function(e){this._super(e)},open:function(){return this._super(),i=$.Deferred()},_deleteWebview:function(){this.notify({DELETE_WEBVIEW:{data:{id:ko.unwrap(this.bindings.webview().id),name:ko.unwrap(this.bindings.webview().name)}}},{actionSpinner:!0}).always(_.bind(function(e){this.resetFields(),this.close(),e.status>204?(this.deps.messaging.showI18nError(e,"components.errors.deleteService"),i.reject(e)):i.resolve(e)},this))}});return o}),define("bots.package.components/view.webview",["module","suite.package.util/messaging","bots.config","bots.enums","bots.package.view/view.assetcollection","bots.i18n","bots.package.components/facade","bots.package.components/dataobject","bots.package.components/router","bots.package.shell/validators","bots.package.shell/ui.components","bots.collection","bots.package.components/create.webview","bots.package.components/delete.webview","bots.package.components/components.enums"],function(e,t,s,i,o,n,a,r,l,d,c,u,p,h,m){var v="components-webview-",b="components-webviews-",f=o.extend({module:e,name:"ComponentsWebviewView"},{__static__:{CUSTOM_MESSAGE_LIST:["nameCustomMessage","webAppUrlCustomMessage","queryParamsCustomMessage","authTokenCustomMessage"],RELOAD_WAIT_TIME:5e3},config:{facade:a,dataObjectClass:r.WebviewDO},deps:{i18n:n,facade:a,router:l},bindings:{botsValidators:d,i18n:n,botsEnums:i,componentsEnums:m,webviewCollection:{func:function(){return this.bindings.assets=new u({facade:this,pageSize:10,idAttribute:"id",totalResults:!0,dataobjectClass:r.WebviewDO,orderBy:"name:asc",mode:"loadMore",disableFetch:!1,events:{load:{name:"LOAD_WEBVIEWS"}}}),this.bindings.assets}},nameCustomMessage:{func:ko.observableArray,args:[[]]},webAppUrlCustomMessage:{func:ko.observableArray,args:[[]]},queryParamsCustomMessage:{func:ko.observableArray,args:[[]]},authTokenCustomMessage:{func:ko.observableArray,args:[[]]},queryParamsHasFocus:{func:function(){var e=this,t=ko.observable(!1);return t.subscribe(function(t){t&&(e.lastFieldHavingFocus="queryParams")}),t}},authTokenHasFocus:{func:function(){var e=this,t=ko.observable(!1);return t.subscribe(function(t){t&&(e.lastFieldHavingFocus="authToken")}),t}},webviewDS:{func:ko.computed,args:[function(){return new oj.ArrayTableDataSource(this.bindings.webviewCollection.items(),{idAttribute:"id"})},this,{deferEvaluation:!0}]},selectedWebview:{func:function(){return this.bindings.selectedAsset=ko.observable(this.buildDataObject()),this.bindings.selectedAsset}},isWebviewSelected:{func:ko.observable,args:[!0]},onNavigationItemSelecion:function(e,t){var s=t.value&&ko.unwrap(t.value);if("selection"===t.option&&s){var i=_.find(this.bindings.webviewCollection.items(),function(e){return ko.unwrap(e.id)===s});if(this.bindings.isWebviewSelected(!!i),this._isSoftSelect)return void(this._isSoftSelect=!1);i&&this._loadWebviewAndSync(s)}},searchBy:{func:ko.observable},onNavItemIconProvider:function(e){var t=e.icon?{basename:ko.unwrap(e.icon),viewBoxWidth:24,viewBoxHeight:24}:"NA";return t},selectedWebviewDetails:{func:function(){return ko.observable(new r.WebviewDetailedDO)}},uniqueNameValidator:{func:function(){var e=this;return{validate:function(t,s){if(!e.validateWebviewName(t,e.bindings.selectedWebviewDetails().name()))throw new oj.ValidatorError(n.translate("components.name.alreadyExists.summary"),n.translate("components.name.alreadyExists.detail"))}}}},authTokenEditableBase:{func:ko.observable,args:[!1]},authTokenEditable:{func:ko.computed,args:[function(){return this.bindings.isDraftVersion()&&this.bindings.authTokenEditableBase()},this,{deferEvaluation:!0}]},resetAuthToken:function(){this.bindings.authTokenEditableBase(!0)},cancelEditAuthToken:function(){return $(this.config.authTokenElement).ojInputAuthToken("reset"),this.bindings.authTokenEditableBase(!1),this.bindings.authTokenCustomMessage().length>0&&this.bindings.authTokenCustomMessage([]),delete this._fieldsToAutoSave.authToken,this.ignoreNextAuthTokenChanged=!0,this.bindings.selectedWebviewDetails().authToken(""),(this.$autoSaveSuspendedCloseButton||this._hasAnyCustomMessage())&&this._autoSave(),!1},createWebviewPopup:{func:function(){return new p({isSubView:!0,baseElement:this.config.createWebviewPopupElement,contentElement:this.config.createWebviewPopupElement,parentView:this})}},deleteWebviewPopup:{func:function(){return new h({isSubView:!0,baseElement:this.config.deleteWebviewPopupElement,contentElement:this.config.deleteWebviewPopupElement,parentView:this})}},onClickNewWebview:function(){var e=new r.WebviewDetailedDO;e.hosted(!0),this.bindings.createWebviewPopup.bindings.webview(e),this.bindings.createWebviewPopup.open(),this.setupFileEventHandlers("create")()},onClickDeleteWebview:function(e,t){this.bindings.deleteWebviewPopup.bindings.webview(e),this.bindings.deleteWebviewPopup.open()},isNotDeletable:function(e){return!(this.bindings.isDraftVersion()&&this.bindings.permissions().BOTS_WRITE)},onClickReloadWebview:function(e,t){this._reloadWebview(e)},isPrebuilt:function(e){return!_.isEmpty(e)},changePackageFile:function(){this.setupFileEventHandlers("update")(),this.bindings.clickUploadFile()},clickUploadFile:function(){$("#component-webviews-pkgFileUploadFile-update").trigger("click")}},previousSearchBy:void 0,_isSoftSelect:!1,_fieldsToAutoSave:{},lastFieldHavingFocus:void 0,ComponentsWebviewView:function(e){this._super(e)},loadModule:function(e){this.previousSearchBy=this.bindings.searchBy(),!this._super(e)},loadFile:function(e){e.target.files&&e.target.files.length>0&&(e.currentTarget.id.endsWith("-create")?this.bindings.createWebviewPopup.bindings.webview().packageFileUpload.uploadFile(e.target.files[0]):(this.bindings.selectedWebviewDetails().packageFileUpload.uploadFile(e.target.files[0]),this._autoSave()))},handleFileSelect:function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;t.length>=1&&(event.currentTarget.id.endsWith("-create")?t[0].name.endsWith(".tgz")?this.bindings.createWebviewPopup.bindings.webview().packageFileUpload.uploadFile(t[0]):(this.bindings.createWebviewPopup.bindings.webview().packageFileUpload.fileStatus("error"),this.bindings.createWebviewPopup.bindings.webview().packageFileUpload.fileError("fileType")):t[0].name.endsWith(".tgz")?this.bindings.selectedWebviewDetails().packageFileUpload.uploadFile(t[0]):(this.bindings.selectedWebviewDetails().packageFileUpload.fileStatus("error"),this.bindings.selectedWebviewDetails().packageFileUpload.fileError("fileType")))},handleDragOver:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},setupFileEventHandlers:function(e){var t=this;return function(){var s=document.getElementById("component-webviews-pkgFileUploadDropzone-"+e);s&&(s.addEventListener("dragover",t.handleDragOver,!1),s.addEventListener("drop",t.handleFileSelect,!1));var i=document.getElementById("component-webviews-pkgFileUploadFile-"+e);i&&i.addEventListener("change",t.loadFile,!1)}},clickDownload:function(){this.notify({DOWNLOAD_PACKAGE:{data:{webviewId:this.bindings.selectedWebviewDetails().id(),packageFileName:this.bindings.selectedWebviewDetails().packageFileName()}}},{actionSpinner:!0}).always(_.bind(function(e){this.log(n.translate("components.package.file.download.downloadDone"))},this))},fetchAssets:function(e){var t=this;this.bindings.selectedWebview(new r.WebviewDO),this._fetchWebviews().then(function(e){t._webviewsLoaded(e)})},initModule:function(e){return!!this._super(e)&&void this.listen({CREATE_WEBVIEW:this._webviewCreated,LOAD_WEBVIEW:this._webviewLoaded,UPDATE_WEBVIEW:this._webviewUpdated,DELETE_WEBVIEW:this._webviewDeleted,DOWNLOAD_PACKAGE:this._packageDownloaded,BOT_SELECT:this._botSelected,UPDATE_WEBVIEW_TO_RELOAD:this._webviewUpdatedToReload})},bindView:function(e){this._super(e),this.bindings.searchBy.subscribe(_.bind(function(e){var t=e||"",s=this.previousSearchBy||"";t!==s&&(this.previousSearchBy=e)},this)),$("#components-webview").on("click","#component-webviews-pkgFileDownloadLink-update",this.clickDownload)},validateWebviewName:function(e,t){var s=t?_.reject(this.bindings.webviewCollection.items(),function(e){return e.name===t}):this.bindings.webviewCollection.items();return!_.some(s,function(t){return t.name===e})},_synchSelectedItem:function(e){if(e){var t=this;_.defer(function(){t._isSoftSelect=!0,$(t.config.navListElement).ojNavigationList("option","selection",e),setTimeout(function(){t._isSoftSelect=!1},250)})}},_fetchWebviews:function(){var e=$.Deferred();return this.bindings.webviewCollection.fetch().always(function(t){e.resolve(t)}),e},_findWebviewSummary:function(e){var t=this.bindings.webviewCollection.items(),s=-1,i=_.find(t,function(t,i){return s=i,ko.unwrap(t.id)===e});return i&&(i.priorIndex=s>0?s-1:-1),i},_webviewsLoaded:function(e){var t=this;_.defer(function(){if(e.data&&e.data.length){var s=t.bindings.selectedWebview();if(s.id())t._loadWebviewAndSync(s.id());else var i=t.bindings.selectedWebview.subscribe(function(e){e.id()&&(i.dispose(),t._loadWebviewAndSync(e.id()))})}})},_loadWebviewAndSync:function(e){var s=this;if(e){var i=this._findWebviewSummary(e);this.bindings.selectedWebview(i),this.notify({LOAD_WEBVIEW:{data:{id:e}}},{actionSpinner:!0}).always(function(){t.showI18nError(_.filter(arguments,function(e){return e.status>200}),"components.errors.loadWebview",[s._findWebviewSummary(e).name]),s._synchSelectedItem(e)})}},_disposeAutoSaveListeners:function(){for(var e in this.webviewSubscriptions)this.webviewSubscriptions.hasOwnProperty(e)&&this.webviewSubscriptions[e].dispose();this.webviewSubscriptions={}},_webviewLoaded:function(e){if(e&&e.data){var t=this;this._resetState();var s=new r.WebviewDetailedDO(e.data);this.bindings.selectedWebviewDetails(s),this._disposeAutoSaveListeners(),_.each(_.extend({},_.pick(s,"name","description","webAppUrl","hosted","enabled"),_.pick(s,"authToken","queryParams")),function(e,s){t.webviewSubscriptions[s]=e.subscribe(function(e){switch(this.field){case"name":t.webviewRenamed=!0;break;case"webAppUrl":if("webAppUrl"!==t.lastFieldHavingFocus)return;t.lastFieldHavingFocus=void 0;break;case"authToken":if(t.ignoreNextAuthTokenChanged)return void(t.ignoreNextAuthTokenChanged=void 0);if("authToken"!==t.lastFieldHavingFocus)return;t.authTokenChanged=!0,t.lastFieldHavingFocus=void 0;break;case"queryParams":if(t.ignoreNextQueryParamsChanged)return void(t.ignoreNextQueryParamsChanged=void 0);if("queryParams"!==t.lastFieldHavingFocus)return;t.queryParamsChanged=!0,t.lastFieldHavingFocus=void 0}t._fieldsToAutoSave[this.field]=e,t._autoSave()},{field:s})}),_.defer(function(){c.validateFields($(t.config.updatableWebviewDetailsElement))})}},_webviewCreated:function(e){var t,s=this;e&&e.data&&(t=e.data.id,this._fetchWebviews().then(function(e){var i=s._findWebviewSummary(t);s._loadWebviewAndSync(ko.unwrap(i.id))}))},_webviewUpdated:function(e){var t,s=this;e&&e.status<=204&&(this.webviewRenamed?(this.webviewRenamed=!1,t=e.data.id,this._fetchWebviews().then(function(e){s._synchSelectedItem(t)})):this._webviewUpdatedToReload(e))},_webviewDeleted:function(e){var s=this;e&&e.status<=204&&(t.showConfirmation(n.translate("components.deleted",ko.unwrap(e.name))),this._fetchWebviews().then(function(e){var t=s.bindings.webviewCollection.items().length&&s.bindings.webviewCollection.items()[0];if(t){var i=ko.unwrap(t.id);s._loadWebviewAndSync(i)}}))},_webviewUpdatedToReload:function(e){if(e&&e.status<=204){var t=this,s=this.bindings.selectedWebview();t._loadWebviewAndSync(ko.unwrap(s.id))}},_packageDownloaded:function(e){e&&e.status&&e.status>204&&t.showError(n.translate("components.package.file.downloadFailed"))},_reloadWebview:function(e){var s=this,i=s.bindings.selectedWebview().toJS();ko.unwrap(e.hosted)?s._loadWebviewAndSync(i.id):this.notify({UPDATE_WEBVIEW_TO_RELOAD:{data:serviceData}},{actionSpinner:!0}).always(function(e){t.showI18nError(_.filter(arguments,function(e){return e.status>204}),"components.error.updateService",[s.bindings.selectedService().name])})},_resetState:function(){this.webviewRenamed=!1,this.$autoSaveSuspendedCloseButton&&(this.$autoSaveSuspendedCloseButton.click(),this.$autoSaveSuspendedCloseButton=void 0),this.authTokenChanged=!1,this.bindings.authTokenEditableBase(!1),this._clearCustomMessages(),this._fieldsToAutoSave={}},_autoSave:function(){var e=this;_.defer(function(){var s;if(e._stashCustomMessages(),c.validateFields($(e.config.updatableWebviewDetailsElement))){e.$autoSaveSuspendedCloseButton&&(e.$autoSaveSuspendedCloseButton.click(),e.$autoSaveSuspendedCloseButton=void 0);var i=e.bindings.selectedWebviewDetails().toJS();e.authTokenChanged&&e.bindings.authTokenEditableBase(!1),e.notify({UPDATE_WEBVIEW:{data:i}},{actionSpinner:!0,autoSave:!0}).always(function(s){t.showI18nError(_.filter(arguments,function(e){return e.status>204}),"components.error.updateService",[e.bindings.selectedWebview().name]),400===s.status?(e.authTokenChanged&&e.bindings.authTokenEditableBase(!0),e._popCustomMessages(),e._handleCustomMessages(s)):(e.authTokenChanged=!1,e._clearCustomMessages(),e._fieldsToAutoSave={})})}else s=t.showError(n.translate("components.autoSaveSuspended")),s&&(e.$autoSaveSuspendedCloseButton=s),e._popCustomMessages()})},_clearCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this.bindings[e]([]),this[e]=[]},this)},_stashCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this[e]=this.bindings[e].slice(0)||[]},this)},_popCustomMessages:function(){_.each(this.__static__.CUSTOM_MESSAGE_LIST,function(e){this.bindings[e](this[e])},this)},_hasAnyCustomMessage:function(){return _.some(this.__static__.CUSTOM_MESSAGE_LIST,function(e){return this.bindings[e]().length>0},this)},_hasMultipleCustomMessage:function(){var e=0;return _.some(this.__static__.CUSTOM_MESSAGE_LIST,function(t){return this.bindings[t]().length>0&&e++,e>1},this)},_countMultipleCustomMessages:function(){var e=0;return _.each(this.__static__.CUSTOM_MESSAGE_LIST,function(t){this.bindings[t]().length>0&&e++},this),e},_checkMultipleCustomMessages:function(e){var t=this._countMultipleCustomMessages();return 0===e().length&&1===t?(_.some(this.__static__.CUSTOM_MESSAGE_LIST,function(e){return!!(this.bindings[e]().length>0&&this.bindings[e]()[0].rbkey)&&(this.bindings[e]()[0].summary=n.translate(this.bindings[e]()[0].rbkey+"Plus"),this.bindings[e]()[0].severity=oj.Message.SEVERITY_TYPE.WARNING,this.bindings[e].valueHasMutated(),!0)},this),!0):t>1},_handleCustomMessages:function(e){var s,i=t.lookupI18nError(e,"components.errors.updateService");_.each(this._fieldsToAutoSave,function(e,t){switch(t){case"name":"53044"===i.code&&this.bindings.nameCustomMessage([{summary:n.translate("components.name.alreadyExists.summary"),detail:i.message,severity:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"webAppUrl":s=this._checkMultipleCustomMessages(this.bindings.webAppUrlCustomMessage),this.bindings.webAppUrlCustomMessage([{rbkey:"components.webview.webAppUrl.invalidURL.summary",summary:n.translate("components.webview.webAppUrl.invalidURL.summary"+(s?"Plus":"")),detail:n.translate("components.webview.webAppUrl.invalidURL.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"queryParams":s=this._checkMultipleCustomMessages(this.bindings.queryParamsCustomMessage),this.bindings.queryParamsCustomMessage([{rbkey:"components.webview.queryParams.invalidQueryParams.summary",summary:n.translate("components.webview.queryParams.invalidQueryParams.summary"+(s?"Plus":"")),detail:n.translate("components.webview.queryParams.invalidQueryParams.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}]);break;case"authToken":s=this._checkMultipleCustomMessages(this.bindings.authTokenCustomMessage),this.bindings.authTokenCustomMessage([{rbkey:"components.webview.authToken.invalidAuthToken.summary",summary:n.translate("components.webview.authToken.invalidAuthToken.summary"+(s?"Plus":"")),detail:n.translate("components.webview.authToken.invalidAuthToken.recourse"),severity:s?oj.Message.SEVERITY_TYPE.WARNING:oj.Message.SEVERITY_TYPE.ERROR}])}},this)},_botSelected:function(e){e.selectedBot&&e.selectedBot.id!==this.lastBotId&&(this.lastBotId=e.selectedBot.id,this.bindings.selectedWebview(this.buildDataObject()))}});return new f({isSubView:!0,baseElement:"#"+v+"tab",contentElement:"#"+v+"tab-content",baseTemplate:"bots/components/webview/webview.tab",baseTemplateElement:"#"+v+"tab",navListElement:"#"+b+"nav-list",createWebviewPopupElement:"#"+b+"create-dialog",deleteWebviewPopupElement:"#"+b+"delete-dialog",updatableWebviewDetailsElement:"#"+b+"updatable-details"})}),function(){define("bots.package.components/package.main",["ojs/ojvalidation","ojs/ojselectcombobox","ojs/ojbutton"]),require(["bots.templates/components","bots.package.components/view","bots.package.components/view.custom","bots.package.components/view.webview","bots.package.components/components.enums","bots.package.components/create.service","bots.package.components/delete.service","bots.package.components/create.webview","bots.package.components/delete.webview","bots.package.components/headers.controller"]);
}(),define("bots.package.components",["bots.package.components/package.main"],function(e){return e});