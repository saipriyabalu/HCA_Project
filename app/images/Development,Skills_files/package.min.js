!function(t){function e(t,e){return t.w('<div id="bots-editor-baseContent" class="suite-helper-max-width"data-bind="css: { \'bots-has-write-permission\': $root.permissions().BOTS_WRITE,\'bots-draft-mode\': $root.isDraftVersion() }"><div id="bots-zorder-container" role="presentation"></div><div id="bots-fullpage-popup-container" role="presentation"></div><div class="oj-flex-item oj-flex"><div class="oj-flex-item bots-helper-max-width bots-vtabbed-editor"><div id="bot-details" class="oj-tabs-icons-only bots-standard-ojtabs"data-bind="ojComponent: { component: \'ojTabs\',edge: \'start\',selected: 0 },css: { \'bots-opacity-zero\': isLoading(),\'tester-open\': isTesterOpen() },attr: { style: \'min-height: \' + minVtabWithTabButtonBarHeight() + \'px;\' }"><ul><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.intents",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_intents_24",ariaLabelKey:"nav.intents"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.entities",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_entities_24",ariaLabelKey:"nav.entities"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.flows",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_yaml_24",ariaLabelKey:"nav.flows"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.builder",filter:"h"},"h").w('"><div style="position: absolute; color: #DD0000; top: 1px; right: 6px; font-size: 8px; font-weight: 800;">BETA</div>').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"visual-builder_24",ariaLabelKey:"nav.builder"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.bundles",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"resourcebundle_24",ariaLabelKey:"nav.bundles"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.qna",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_qna_24",ariaLabelKey:"nav.qna"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.quality",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_quality_24",ariaLabelKey:"nav.quality"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.insights",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_bargraph_24",ariaLabelKey:"nav.insights"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.components",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_components_24",ariaLabelKey:"nav.components"}).w('</span></li><li><span class="bots-svgsprite-vtab-icon" title="').h("i18n",e,{},{key:"nav.settings",filter:"h"},"h").w('">').p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"func_settings_24",ariaLabelKey:"nav.settings"}).w('</span></li></ul><div class="oj-tabs-facet oj-flex-bar oj-sm-flex-initial oj-sm-flex-direction-column bots-nav-button-bar bots-helper-margin-top-3"><div class="sticky-start oj-flex oj-sm-flex-direction-column"data-bind="suiteOnWindowScroll: { handler: $root.onWindowScrollResizeHandler },suiteOnWindowResize: { handler: $root.onWindowScrollResizeHandler }"><hr class="bots-helper-margin-left--10 bots-helper-margin-right--10" />').p("bots/common/fullpage.tester.button",e,e,{package:"bots"}).p("bots/defectviewer/toggle.button",e,e,{package:"bots"}).w('</div></div><!-- ko nobind --><div id="bot-details-tab-intents" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-entities" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-flows" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-builder" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-bundles" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-qna" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-quality" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-insights" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-components" class="bots-details-tab"></div><!-- /ko --><!-- ko nobind --><div id="bot-details-tab-settings" class="bots-details-tab"></div><!-- /ko --></div></div></div></div><div data-bind="nobind">').p("bots/bottester/main",e,e,{}).w("</div>")}return t.register("bots/bot/bot",e),e.__dustBody=!0,e}(dust),function(t){function e(t,e){return e=e.shiftBlocks(r),t.p("bots/common/no_content",e,e,{noContentId:"bots-no-content"})}function i(t,e){return e=e.shiftBlocks(r),t.p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"qual_bot_24_mono",klazz:"suite-helper-192x192"})}function n(t,e){return e=e.shiftBlocks(r),t.h("i18n",e,{},{key:"bots.none.title"},"h")}function s(t,e){return e=e.shiftBlocks(r),t.h("i18n",e,{},{key:"bots.none.description"},"h")}function o(t,e){return e=e.shiftBlocks(r),t.w('<a href="#" data-bind="botsOpenInTab: { unikey: \'bots.none.tellMeMore\' }"></a>')}function a(t,e){return e=e.shiftBlocks(r),t.w("<!-- ko if: $root.permissions().BOTS_WRITE --><button data-bind=\"click: createNewBot,ojComponent: { component: 'ojButton',display: 'all',icons: { start: 'bots-svgsprite-cta-icon' },label: '").h("i18n",e,{},{key:"bots.tiles.newBot",filter:"j"},"h").w("' },inlinesvg: { width: 16, height: 16, project: 'bots', basename: 'func_plus_16' }\"class=\"green-button\"></button><!-- /ko -->")}t.register("bots/bot/bot.none",e);var r={noContentImgSection:i,noContentTitle:n,noContentDesc:s,noContentLink:o,noContentButton:a};return e.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,s.__dustBody=!0,o.__dustBody=!0,a.__dustBody=!0,e}(dust),function(t){function e(t,e){return t.p("suite/common/glasspane.firsttime.ua",e,e,{baseId:"bots",gotItAction:"gotItAction",firstUAHeadingText:"firstUAHeadingText",firstUADescText:"firstUADescText",firstUATipText:"firstUATipText"})}return t.register("bots/bot/glasspane.firsttime.ua.bots",e),e.__dustBody=!0,e}(dust),function(t){function e(t,e){return t.w('<div class="suite-helper-max-width"data-bind="if: !!!$root.contextHeader.bindings.versionsLandingBotName()"><div class="bots-helper-max-width"data-bind="visible: botCollection.items().length > 0 || isFiltering() || isAction()"><div class="bots-helper-overflow-auto bots-helper-max-width"><div class="oj-flex oj-sm-align-items-center bots-list-filter-row bots-helper-max-width"><div class="oj-flex-item filter-style oj-sm-flex-initial"><span class="suite-search-filter bots-helper-max-width"><input title="').h("i18n",e,{},{key:"general.filter",filter:"h"},"h").w('" class="oj-inputtext-input oj-autocomplete-widget oj-autocomplete-input no-content bots-helper-max-width"placeholder="').h("i18n",e,{},{key:"general.filter",filter:"h"},"h").w("\" autocomplete=\"off\" data-bind=\"jqueryPlugin: { name: 'suiteSearchFilter', config: {eventType: 'keyup', clearEventType: 'keyup' } },value: botCollection.searchBy,valueUpdate: 'keyup'\" /></span></div><div class=\"oj-flex-item oj-sm-flex-initial\"data-bind=\"i18n: { key: (showOnlyLatest() ? 'bots.tiles.showOnlyLatestHint.ON' :'bots.tiles.showOnlyLatestHint.OFF'),attr: 'title' }\"><label class=\"oj-label-inline suite-helper-margin-left-11\" for=\"bots-showOnlyLatest\">").h("i18n",e,{},{key:"bots.tiles.showOnlyLatest"},"h").w('</label><input id="bots-showOnlyLatest"data-bind="ojComponent: { component: \'ojSwitch\',value: showOnlyLatest,rootAttributes: { class: \'suite-helper-margin-bottom-0\' } }"></div><div class="oj-flex-item sortBy-style"><label class="oj-label-inline bots-helper-padding-left-11" for="bots-sortBy">').h("i18n",e,{},{key:"general.sortBy"},"h").w('</label><select id="bots-sortBy"data-bind="ojComponent: { component: \'ojSelect\',options: sortOptions,value: sortBy,rootAttributes: { class: \'select-style bots-no-margin\'} }"></select></div></div><div id="bots-catalog-tiles" class="bots-tiles oj-flex"><!-- ko if: $root.permissions().BOTS_WRITE -->').p("bots/common/tile.button",e,e,{tileButtonId:"bots-tile-new-bot",tileButtonClick:"createNewBot",tileButtonStyle:"green",tileButtonCircleStyle:"circle",tileButtonLabel:"bots.tiles.newBot",tileButtonIcon:"qual_add_48"}).w("<!-- /ko --><!-- ko foreach: botCollection.items() -->").p("bots/bot/tile",e,e,{tileId:"id",tileStyle:"grey link-to-navigate",tileHeaderClick:"$root.editBot",tileDisplayName:"displayName",tileType:"type",tileDescription:"description",tileVersion:"version",tileNamespace:"namespace",tileSkillStoreUpdate:"skillStoreUpdate",tileStatus:"status",tileCreatedOn:"createdOn",tileUpdatedOn:"updatedOn",tileIndex:"$index()",tileChannelIcons:"channelIcons",tileDetailsLineOne:"$root.algorithmDetails($data)"}).w('<!-- /ko --></div></div><div id="bots-paging-control" class="oj-flex-item bots-helper-max-width"data-bind="ojComponent: { component: \'ojPagingControl\',data: botPagerDS,pageSize: botCollection.pageSize() }"></div></div><div class="bots-helper-max-width"data-bind="visible: botCollection.items().length <= 0 && !isLoading() && !isFiltering() && !isAction() && !botCollection.searchBy() && !isListError()">').p("bots/bot/bot.none",e,e,{}).w('</div></div><div class="suite-helper-max-width"data-bind="if: !!$root.contextHeader.bindings.versionsLandingBotName()">').p("bots/bot/versions.landing",e,e,{}).w("</div>")}return t.register("bots/bot/landing",e),e.__dustBody=!0,e}(dust),function(t){function e(t,e){return t.w('<div class="oj-panel tile oj-flex-item oj-sm-flex-initial tile-1x1 ').x(e.get(["tileStyle"],!1),e,{block:i},{}).w('" tabIndex="0" data-bind="attr: { id: \'bots-tile-\' + ').f(e.get(["tileId"],!1),e,"h").w(" }").x(e.get(["tileHeaderClick"],!1),e,{block:n},{}).w('"><div class="oj-flex-bar headerBackground"><div class="oj-flex-bar-start header"><div class="name"data-bind="ellipsisTip: ').f(e.get(["tileDisplayName"],!1),e,"h").w(',css: { major: !!!$root.contextHeader.bindings.versionsLandingBotName(),minor: !!$root.contextHeader.bindings.versionsLandingBotName() }"></div><div class="version"data-bind="ellipsisTip: ').f(e.get(["tileVersion"],!1),e,"h").w(',css: { major: !!$root.contextHeader.bindings.versionsLandingBotName(),minor: !!!$root.contextHeader.bindings.versionsLandingBotName() }"></div></div><!-- ko with: $root.botsTileIcon(').f(e.get(["tileType"],!1),e,"h").w(", ").f(e.get(["tileStatus"],!1),e,"h").w(", ").f(e.get(["tileNamespace"],!1),e,"h").w(", ").f(e.get(["tileSkillStoreUpdate"],!1),e,"h").w(') --><div class="oj-flex-bar-end oj-sm-align-items-center"data-bind="attr: { title: title },inlinesvg: { width: width, height: height, project: \'bots\', basename: basename, klazz: klazz }"></div><!-- /ko --></div><div class="subtitle-row"><span class="subtitle"data-bind="text: ').f(e.get(["tileDescription"],!1),e,"h").w('"></span></div><div class="tile-container-lower"><div class="subtitle bots-helper-padding-top-5"data-bind="text: ').f(e.get(["tileDetailsLineOne"],!1),e,"h").w("\"></div></div><!-- TILE CONTEXT MENU --><div class=\"oj-flex-bar menu-row bottom-right\"><!-- ko if: ($root.sortBy() && ($root.sortBy()[0] === 'createdOnAsc' || $root.sortBy()[0] === 'createdOnDesc')) --><div class=\"oj-flex-bar-start subtitle bots-helper-margin-top-7 updatedTimeField\"data-bind=\"text: $root.i18n.translate('bots.createdOn', $root.i18n.formatDateTimeFromUTC(").f(e.get(["tileCreatedOn"],!1),e,"h").w("))\"></div><!-- /ko --><!-- ko ifnot: ($root.sortBy() && ($root.sortBy()[0] === 'createdOnAsc' || $root.sortBy()[0] === 'createdOnDesc')) --><div class=\"oj-flex-bar-start subtitle bots-helper-margin-top-7 updatedTimeField\"data-bind=\"text: $root.i18n.translate('bots.lastUpdated', $root.i18n.formatDateTimeFromUTC(").f(e.get(["tileUpdatedOn"],!1),e,"h").w('))"></div><!-- /ko --><div class="oj-flex-bar-end"><!-- ko if: $root.showOnlyLatest() && !!!$root.contextHeader.bindings.versionsLandingBotName() --><button class="icon"data-bind="attr: { id: ').f(e.get(["tileId"],!1),e,"h").w(" + '-series' },click: $root.onClickMoreVersions,ojComponent: { component: 'ojButton',chroming: 'half',display: 'icons',icons: { start: 'bots-svgsprite-func-icon bots-onb-icon',end: 'suite-helper-margin-right-0' },label: $root.i18n.translate('bots.tiles.showAllVersionsOfBot'),rootAttributes: { class: 'suite-helper-margin-right-0' } },inlinesvg: { width: 24, height: 24, project: 'bots', basename: 'func_multipages',klazz: 'suite-helper-16x16' }\"></button><!-- /ko --><button class=\"icon\" aria-label=\"").h("i18n",e,{},{key:"users.tiles.menuButton",filter:"h"},"h").w('"data-bind="attr: { id: ').f(e.get(["tileId"],!1),e,"h").w(" + '-btn' },click: function(obj, e) { e.stopPropagation(); }, ojComponent: { component: 'ojButton',chroming: 'half',display: 'icons',icons: { start: 'bots-svgsprite-func-icon bots-onb-icon',end: 'bots-helper-margin-right-0' },label: $root.i18n.translate('general.options'),menu: '#' + ").f(e.get(["tileId"],!1),e,"h").w(" + '-context-menu' },inlinesvg: { width: 16, height: 16, project: 'bots', basename: 'func_menu_16' } \"></button><ul class=\"bots-helper-hidden\"data-bind=\"attr: { id: ").f(e.get(["tileId"],!1),e,"h").w(" + '-context-menu' },ojComponent: { component: 'ojMenu',select: $parent.performMenuAction,initialFocus: 'menu' }\"><!-- ko foreach: $parent.botsTileContextMenu --><li data-bind=\"attr: { menuId: id,title: computeTitle($parent) },css: { 'oj-disabled': computeDisabled($parent) },visible: computeVisible($parent)\"><a href=\"#\" data-bind=\"text: text\"></a></li><!-- /ko --></ul></div></div></div>")}function i(t,e){return t.f(e.get(["tileStyle"],!1),e,"h")}function n(t,e){return t.w(",click: ").f(e.get(["tileHeaderClick"],!1),e,"h").w(",enterKey: ").f(e.get(["tileHeaderClick"],!1),e,"h")}return t.register("bots/bot/tile",e),e.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,e}(dust),function(t){function e(t,e){return e=e.shiftBlocks(r),t.p("bots/common/no_content",e,e,{noContentId:"bots-versions-no-content"})}function i(t,e){return e=e.shiftBlocks(r),t.p("bots/common/inlinesvg",e,e,{width:"24",height:"24",project:"bots",basename:"qual_bot_24_mono",klazz:"suite-helper-192x192"})}function n(t,e){return e=e.shiftBlocks(r),t.h("i18n",e,{},{key:"bots.versionNone.title"},"h")}function s(t,e){return e=e.shiftBlocks(r),t.h("i18n",e,{},{key:"bots.versionNone.description"},"h")}function o(t,e){return e=e.shiftBlocks(r),t.w('<a href="#" data-bind="botsOpenInTab: { unikey: \'bots.versionNone.tellMeMore\' }"></a>')}function a(t,e){return e=e.shiftBlocks(r),t}t.register("bots/bot/version.none",e);var r={noContentImgSection:i,noContentTitle:n,noContentDesc:s,noContentLink:o,noContentButton:a};return e.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,s.__dustBody=!0,o.__dustBody=!0,a.__dustBody=!0,e}(dust),function(t){function e(t,e){return t.w('<div class="bots-helper-max-width"data-bind="visible: versionCollection.items().length > 0 || isFiltering() || isAction()"><div class="bots-helper-overflow-auto bots-helper-max-width"><div class="oj-flex oj-sm-align-items-center bots-list-filter-row bots-helper-max-width"><div class="oj-flex-item filter-style oj-sm-flex-initial"><span class="suite-search-filter bots-helper-max-width"><input title="').h("i18n",e,{},{key:"general.filter",filter:"h"},"h").w('" class="oj-inputtext-input oj-autocomplete-widget oj-autocomplete-input no-content bots-helper-max-width"placeholder="').h("i18n",e,{},{key:"general.filter",filter:"h"},"h").w("\" autocomplete=\"off\" data-bind=\"jqueryPlugin: { name: 'suiteSearchFilter', config: {eventType: 'keyup', clearEventType: 'keyup' } },value: versionCollection.searchBy,valueUpdate: 'keyup'\" /></span></div><div class=\"oj-flex-item oj-sm-flex-initial\"title=\"").h("i18n",e,{},{key:"bots.tiles.showOnlyLatestHint.OFF",filter:"h"},"h").w('"><label class="oj-label-inline suite-helper-margin-left-11 bots-disabled-label" for="bots-versions-showOnlyLatest">').h("i18n",e,{},{key:"bots.tiles.showOnlyLatest"},"h").w('</label><input id="bots-versions-tiles-showOnlyLatest"data-bind="ojComponent: { component: \'ojSwitch\',value: false,disabled: true,rootAttributes: { class: \'suite-helper-margin-bottom-0\' } }"/></div><div class="oj-flex-item sortBy-style"><label class="oj-label-inline bots-helper-padding-left-11" for="bots-versions-sortBy">').h("i18n",e,{},{key:"general.sortBy"},"h").w('</label><select id="bots-versions-sortBy"data-bind="ojComponent: { component: \'ojSelect\',options: sortOptions,value: sortBy,rootAttributes: { class: \'select-style bots-no-margin\'} }"></select></div></div><div id="bots-versions-tiles" class="bots-tiles oj-flex"><!-- ko foreach: versionCollection.items() -->').p("bots/bot/tile",e,e,{tileId:"id",tileStyle:"grey link-to-navigate",tileHeaderClick:"$root.editBot",tileDisplayName:"displayName",tileType:"type",tileDescription:"description",tileVersion:"version",tileNamespace:"namespace",tileSkillStoreUpdate:"skillStoreUpdate",tileStatus:"status",tileCreatedOn:"createdOn",tileUpdatedOn:"updatedOn",tileIndex:"$index()",tileChannelIcons:"channelIcons",tileDetailsLineOne:"$root.algorithmDetails($data)"}).w('<!-- /ko --></div></div><div id="bots-versions-paging-control" class="oj-flex-item bots-helper-max-width"data-bind="ojComponent: { component: \'ojPagingControl\',data: versionPagerDS,pageSize: versionCollection.pageSize() }"></div></div><div class="bots-helper-max-width"data-bind="visible: versionCollection.items().length <= 0 && !isLoading() && !isFiltering() && !isAction() && !versionCollection.searchBy() && !isListError()">').p("bots/bot/version.none",e,e,{}).w("</div>")}return t.register("bots/bot/versions.landing",e),e.__dustBody=!0,e}(dust),define("bots.templates/bot",function(){}),define("bots.package.bot/model.rest",["module","bots.model.rest","bots.i18n","bots.config"],function(t,e,i,n){var s=e.__class__.extend({module:t,name:"BotRestModel"},{config:{stringifyObjects:!0},BotRestModel:function(t){this._super(t)}});return new s(e.config)}),define("bots.package.bot/model",["module","mcs.js.framework/model.util","bots.package.bot/model.rest"],function(t,e,i){var n=i.__class__.extend({module:t,name:"FakeRestModel"},{FakeRestModel:function(t){this._super(t)}},e.stubProxy);return new n({baseUrl:i.config.baseUrl})}),define("bots.package.bot/facade",["module","bots.facade","bots.package.bot/model"],function(t,e,i){var n=e.__class__.extend({module:t,name:"Facade"},{__static__:{globalChannels:{}},Facade:function(){this._super();this.register({})}});return new n}),define("bots.enums",{LifeCycleManagementEnum:{DRAFT:"DRAFT",PUBLISHED:"PUBLISHED",STOREBOUGHT:"STOREBOUGHT",LAST_UPDATED:"lastUpdated",SKILLSTORE:{NEW_VERSION_METADATA:"newVersionMetadata",NEW_VERSION_IMPORT:"newVersionImport"}},TrainingModelEnum:{SAKURA:"Sakura",TAMAO:"Tamao"},TrainingStatusEnum:{NO_DATA:"NO_DATA",ERROR:"ERROR",TRAINED:"TRAINED",TRAINING:"TRAINING"},ValidationStatusEnum:{NO_DATA:"NO_DATA",ERROR:"ERROR",TRAINED:"TRAINED",TRAINING:"TRAINING"},QualityTrainingTypeEnum:{SUGGESTIONS:"suggestions",UQE:"uqe",SIMILARITY:"similarity",SUGGESTEDDATA:"suggesteddata",ALL:"all"},ChannelTypeEnum:{FACEBOOK:{ordinal:1,value:"facebook",textRbKey:"channels.user.channelType.enums.facebook",basename:"messenger_24",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},WEBHOOK:{ordinal:2,value:"webhook",textRbKey:"channels.user.channelType.enums.webhook",basename:"qual_webhook_48_mono",viewBoxWidth:48,viewBoxHeight:48,category:"bot"},WEB:{ordinal:3,value:"web",textRbKey:"channels.user.channelType.enums.web",basename:"qual_web_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},IOS:{ordinal:4,value:"ios",textRbKey:"channels.user.channelType.enums.ios",basename:"qual_ios_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},ANDROID:{ordinal:5,value:"android",textRbKey:"channels.user.channelType.enums.android",basename:"qual_android_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},TWILIO:{ordinal:6,value:"twilio",textRbKey:"channels.user.channelType.enums.twilio",basename:"qual_twilio_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},WECHAT:{ordinal:7,value:"wechat",textRbKey:"channels.user.channelType.enums.wechat",imgSrc:"/botsui/19.1.5-1907122019/resources/images/wechat_24.svg",category:"bot"},SLACK:{ordinal:8,value:"slack",textRbKey:"channels.user.channelType.enums.slack",basename:"qual_slack_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},KAKAOTALK:{value:"kakaotalk",textRbKey:"channels.user.channelType.enums.kakaotalk",basename:"qual_kakaotalk_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},APPLICATION:{value:"application",textRbKey:"channels.user.channelType.enums.application",basename:"applicationschannel_24",viewBoxWidth:24,viewBoxHeight:24,category:"application"},TEST:{value:"test",textRbKey:"channels.user.channelType.enums.web",basename:"qual_system_16_mono",viewBoxWidth:16,viewBoxHeight:16,category:"bot"},SERVICE_CLOUD:{value:"serviceCloud",textRbKey:"channels.user.channelType.enums.serviceCloud",basename:"qual_liveagent_24_mono",viewBoxWidth:24,viewBoxHeight:24,category:"agent"},MSTEAMS:{ordinal:10,value:"msteams",textRbKey:"channels.user.channelType.enums.msteams",basename:"qual_msteams_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},CORTANA:{ordinal:11,value:"cortana",textRbKey:"channels.user.channelType.enums.cortana",basename:"qual_cortana_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},SKYPEFORBUSINESS:{ordinal:12,value:"skypeforbusiness",textRbKey:"channels.user.channelType.enums.skypeforbusiness",basename:"qual_skypeforbusiness_24_full",viewBoxWidth:24,viewBoxHeight:24,category:"bot"},getOrderedCreatableChannels:function(){return _.sortBy(_.filter(this,function(t){return t.hasOwnProperty("ordinal")}),"ordinal")},toEnum:function(t){return _.find(this,function(e){return e.value===t})}},ChannelEnum:{CATEGORY_BOT:"bot",CATEGORY_AGENT:"agent",CATEGORY_APPLICATION:"application",APP_SCOPE_CHANNEL:"channel",APP_SCOPE_BOT:"bot",ROUTING_POLICY_CHANNEL:"channel",ROUTING_POLICY_FIXED:"fixed",ROUTING_POLICY_EXTERNAL:"external",FILTER_TYPE_BOT:"categoryBot",FILTER_TYPE_AGENT:"categoryAgent",FILTER_TYPE_APPLICATION:"categoryApplication",FILTER_TYPE_SYSTEM:"categorySystem"},BotConfigTypeEnum:{digital_assistant:"da.",system_conversation:"system.conversation",system_routing:"system.routing"},EntityTypeEnum:{SYSTEM:"SYSTEM",DERIVED:"DERIVED",ENUMVALUES:"ENUMVALUES",ENUMENTITIES:"ENUMENTITIES",PATTERNBASED:"PATTERNBASED",COMPOSITEBAG:"COMPOSITEBAG"},ComponentServiceStatusEnum:{AWAITING_DEPLOYMENT:{value:"awaitingDeployment",width:16,height:16,basename:"spinner_blue",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.awaitingDeployment.label",statusHintRbKey:"components.status.values.awaitingDeployment.labelHelp"},ERROR:{value:"error",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.error.label",statusHintRbKey:"components.status.values.error.labelHelp"},COMPONENT_LOAD_FAILED:{value:"componentLoadFailed",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.componentLoadFailed.label",statusHintRbKey:"components.status.values.componentLoadFailed.labelHelp"},CREATED:{value:"created",width:16,height:16,basename:"spinner_blue",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.created.label",statusHintRbKey:"components.status.values.created.labelHelp"},DEPLOYMENT_FAILED:{value:"deploymentFailed",width:16,height:16,basename:"qual_error_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.deploymentFailed.label",statusHintRbKey:"components.status.values.deploymentFailed.labelHelp"},READY:{value:"ready",width:16,height:16,basename:"qual_ok_16",klazz:"bots-helper-24x24",statusRbKey:"components.status.values.ready.label",statusHintRbKey:"components.status.values.ready.labelHelp"},toEnum:function(t){return _.find(this,function(e){return e.value===t})}},BotAssetEnum:{DA:{value:"ODA",statusRbKey:"NA",titleRbKey:["bots.tiles.da"],basename:["digital-assistant_24"],viewBox:[{width:24,height:24}],klazz:["bots-da-skill-color bots-helper-32x32"]},SKILL:{value:"USER",statusRbKey:["bots.status.DRAFT","bots.status.PUBLISHED"],titleRbKey:["bots.tiles.draft","bots.tiles.published"],basename:["qual_pagepencil_24","qual_lock_24"],viewBox:[{width:24,height:24},{width:24,height:24}],klazz:["bots-draft-skill-color","bots-published-skill-color"]},STOREBOUGHT:{value:"NA",statusRbKey:["bots.status.STOREBOUGHT","bots.status.UPDATE "],titleRbKey:["bots.tiles.storebought","bots.tiles.storeboughtUpdateAvailable"],basename:["qual_skill_store_24","qual_skill_store_update_32"],viewBox:[{width:24,height:24},{width:32,height:32}],klazz:["bots-store-skill-color","bots-store-skill-color"]},STOREAVAIL:{value:"NA",statusRbKey:["NA","NA","NA"],titleRbKey:["skillStore.tiles.available","skillStore.tiles.availableUpdate","skillStore.tiles.installed"],basename:["qual_skill_store_24","qual_skill_store_update_32","qual_skill_store_installed_32"],viewBox:[{width:24,height:24},{width:32,height:32},{width:32,height:32}],klazz:["bots-store-skill-color","bots-store-skill-color","bots-store-skill-color"]}},ConfigParameterTypes:{string:{type:"string",textRbKey:"settings.configuration.parameters.types.string"},int:{type:"int",textRbKey:"settings.configuration.parameters.types.int"},float:{type:"float",textRbKey:"settings.configuration.parameters.types.float"},boolean:{type:"boolean",textRbKey:"settings.configuration.parameters.types.boolean"}},ARTIFACT_NAME_VERSION_SEPARATOR:" • ",DEFAULT_FAKE_LIMIT:"2147483647",PLACEHOLDER_STRING_1:"_-_-_-_-_-_-_-_-_-_-_-_C O N F I D E N T I A L_-_-_-_-_-_-_-_-_-_-_-_-",PLACEHOLDER_STRING_2:"+=+=+=+=+=+=+=+=+=+=+=+C O N F I D E N T I A L+=+=+=+=+=+=+=+=+=+=+=+="}),define("bots.package.bot/dataobject",["module","bots.enums","mcs.js.framework/dataobject","bots.dataobject"],function(t,e,i,n){var s=i.extend({module:t,name:"BotDataObject"},{BotDataObject:function(t){_.extend(this,n.BotMetaFactory.newObject(n.BotMetaFactory.FillEnum.EMPTY_SCALARS)),this._super(t)},fromJS:function(t,e){var i=n.BotMetaFactory.fetchPropList();i.splice(0,0,t),_.extend(this,_.pick.apply(_,i))}});return{BotDataObject:s}}),define("bots.package.bot/router",["module","bots.router.tab","bots.enums"],function(t,e,i){var n=e.extend({module:t,name:"BotTabRouter"},{__static__:{routes:{"bot(/)":"viewBotsLanding","botpromo/:extraParam(/)":"viewBotPromoLanding","bot/:tabName(/)":"viewBot","bot/:tabName/:extraParam(/)":"viewBot","bot/:tabName/:tab2Name/:tab3Name(/)":"viewBot","bot/:tabName/:tab2Name/:tab3Name/:extraParam(/)":"viewBot","bot/:tabName/:tab2Name/:tab3Name/:extraParam1/:extraParam2(/)":"viewBot","bot/quality/retrainer(/)":"viewBotRetrainer","bot/quality/retrainer/:extraParam(/)":"viewBotRetrainer"},permissions:{viewBotsLanding:"BOTS_READ",viewBot:"BOTS_READ",viewBotRetrainer:"BOTS_READ"},routeEvents:{bot:{route:"bot",dom:"#botsBody",radioId:"navRadioDevelopment"}}},BotTabRouter:function(t){this._super(t)},openAsset:function(t,e,n){if(i.BotAssetEnum.SKILL.value===(t||"").toUpperCase())if(e)this.navigateBot(e,"intents");else if(n){var s={promoJourney:!0};this.navigateBotWithName(n,"intents/"+JSON.stringify(s))}},viewBotsLanding:function(){var t=this,e=this.showFirstUseUAIfNeeded();return e?e:t.deps.facade.notify({DEVELOPMENT_SUBVIEW_DISPLAY:{data:{subview:t.config.defaultRoute,trash:!1,callback:_.bind(function(){this.visitRoute(_.extend({},require("suite.package.applications/router").__static__.routeEvents.applications,{subview:this.config.defaultRoute}))},t)}}},{promise:!0})},viewBotPromoLanding:function(t){var e={promoJourney:!0};this.navigateBotWithName(t,"intents/"+JSON.stringify(e))},_tabHasChild:function(t,e){if(e)return"string"==typeof t&&(t=_.findWhere(this.config.tabs.children,{tabName:t})),t&&t.children?_.findWhere(t.children,{tabName:e}):void 0},_viewBotExtraParams:function(){var t,e=this,i=0;_.has(arguments[0],"then")&&"function"==typeof arguments[0].then&&(t=arguments[i++]);var n,s,o=arguments[i++],a=i,r=[o];if(arguments.length>a){var l=this._tabHasChild(o,arguments[a]);if(l&&(n=arguments[i++],a=i,r.push(n),arguments.length>a)){var d=this._tabHasChild(l,arguments[a]);d&&(s=arguments[i++],a=i,r.push(s))}}var b=_.map(_.rest(arguments,i),function(t){var e;if(t)try{e=decodeURIComponent(t)}catch(t){e=void 0}return e});return e.visitRoute(_.extend({},e.__static__.routeEvents.bot,{tabNames:r,meta:b.length>0?{extraParams:b}:void 0}),t)},viewBot:function(t){var e=this.showFirstUseUAIfNeeded();return e?e:this._viewBotExtraParams.apply(this,arguments)},viewBotRetrainer:function(){var t=this.showFirstUseUAIfNeeded();if(!t){for(var e=$.Deferred(),i=[e,"quality","retrainer"],n=0;n<arguments.length;n++)i.push(arguments[n]);return this.loadPackage("bots.package.quality",_.bind(function(t){this._viewBotExtraParams.apply(this,i)},this)),e}return t},loadPackage:function(t){var e=this._super.apply(this,arguments);return"bots.package.quality"===t?this.loadPackage("bots.package.retrainer",$.noop,!1,e):e},tabsToFragmentRoute:function(t,e,i,n){var s=i+t.tabName.length+1,o=n+this.config.defaultRoute+"/"+t.tabName.join("/");return e.length>s&&this.getFragment().indexOf(o)>=0&&(o+="/"+e.slice(s).join("/")),o}});return new n({defaultRoute:"bot",tabs:{selector:"#bot-details",children:[{tabName:"intents",tabId:"bot-details-tab-intents",tabPackage:"bots.package.intents",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"entities",tabId:"bot-details-tab-entities",tabPackage:"bots.package.entities",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"flows",tabId:"bot-details-tab-flows",tabPackage:"bots.package.flows",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"builder",tabId:"bot-details-tab-builder",tabPackage:"bots.package.builder",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ",selector:"#bot-builder-tabs",children:[{tabName:"mock",tabId:"bot-builder-conversation-tab",tabPackage:"bots.package.builder",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"build",tabId:"bot-builder-flow-tab",tabPackage:"bots.package.builder",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"}]},{tabName:"bundles",tabId:"bot-details-tab-bundles",tabPackage:"bots.package.bundles",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"qna",tabId:"bot-details-tab-qna",tabPackage:"bots.package.qna",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"quality",tabId:"bot-details-tab-quality",tabPackage:"bots.package.quality",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ",selector:"#quality-tabs",children:[{tabName:"utterances",tabId:"quality-utterances-tab",tabPackage:"bots.package.quality",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"suggestions",tabId:"quality-suggestions-tab",tabPackage:"bots.package.quality",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"retrainer",tabId:"quality-retrainer-tab",tabPackage:"bots.package.retrainer",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"}]},{tabName:"insights",tabId:"bot-details-tab-insights",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ",selector:"#insights-tabs",children:[{tabName:"overview",tabId:"insights-pathing-overview-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"intents",
tabId:"insights-pathing-intents-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"paths",tabId:"insights-pathing-paths-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"conversations",tabId:"insights-pathing-conversations-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"retrainer",tabId:"insights-pathing-retrainer-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"export",tabId:"insights-pathing-export-tab",tabPackage:"bots.package.insights",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"}]},{tabName:"components",tabId:"bot-details-tab-components",tabPackage:"bots.package.components",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ",selector:"#components-tabs",children:[{tabName:"general",tabId:"components-custom-tab",tabPackage:"bots.package.components",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"configuration",tabId:"components-webview-tab",tabPackage:"bots.package.components",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"}]},{tabName:"settings",tabId:"bot-details-tab-settings",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ",selector:"#settings-tabs",children:[{tabName:"general",tabId:"settings-general-tab",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"configuration",tabId:"settings-configuration-tab",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"da",tabId:"settings-da-tab",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"events",tabId:"settings-events-tab",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"},{tabName:"routingconfig",tabId:"settings-routingconfig-tab",tabPackage:"bots.package.settings",vetoablePending:!1,vetoableValid:!1,permission:"BOTS_READ"}]}]}})}),define("bots.collection",["mcs.js.framework/class","mcs.js.framework/dataobject","ojs/ojtable","ojs/ojtable-model","ojs/ojpagingcontrol"],function(t,e){var i=function(t){this.config=$.extend(!0,{},this.config,t),this.Init()};return oj.Object.createSubclass(i,oj.TableDataSource,"bots.Collection"),_.extend(i,{EventType:oj.TableDataSource.EventType,decodeParams:function(t){for(var e={},i=(t.split("?")[1]||"").split("&"),n=0;n<i.length;n++){var s=i[n].split("=");try{e[s[0]]=decodeURIComponent(s[1])}catch(t){e[s[0]]=s[1]}}return e},encodeParams:function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];null!==n&&void 0!==n&&""!==n&&e.push(i+"="+encodeURIComponent(n))}return e.length?"?"+e.join("&"):""},getPath:function(t,e){var n={};return(e.pageSize||e.limit)&&(n.offset=e.startIndex||e.offset||0,n.limit=e.pageSize||e.limit||20),_.extend(n,_.omit(e,["limit","offset"])),t+i.encodeParams(n)}}),_.extend(i.prototype,{config:{disableFetch:!1,facade:void 0,idAttribute:"id",pageSize:20,orderBy:void 0,searchBy:void 0,filterKeyword:void 0,filterType:[],totalResults:!0,searchByThrottle:750,filterKeywordThrottle:750,filterTypeThrottle:750,dataobjectClass:void 0,extraFields:{},disableExtraFieldsFetch:!1,mode:void 0,selectors:{ojPagingControl:void 0},capabilities:{sort:null},events:{load:{name:"LOAD_X_LIST",data:{}}}},hasMore:void 0,pageSize:void 0,totalSize:void 0,startIndex:void 0,orderBy:void 0,searchBy:void 0,filterKeyword:void 0,filterType:void 0,items:void 0,compoundObjects:[],_isResetting:!1,Init:function(){i.superclass.Init.call(this),this.config.facade=this.config.facade||require("bots.facade"),this.hasMore=ko.observable(!1),this.totalSize=ko.observable(0),this.orderBy=ko.observable(this.config.orderBy),this.orderBy.extend({notify:"always"}),this.searchBy=ko.observable(this.config.searchBy),this.previousSearchBy=this.searchBy(),this.filterKeyword=ko.observable(this.config.filterKeyword),this.previousFilterKeyword=this.filterKeyword(),this.filterType=ko.observableArray(this.config.filterType),this.previousFilterType=this.filterType(),this.startIndex=ko.observable(0),this.pageSize=ko.observable(this.config.pageSize),this.items=ko.observableArray(),this.mode=this.config.mode,this.compoundObjects=[],this.size=ko.computed(_.bind(function(){return(this.items()||[]).length},this)),this.itemsRefreshedCallback=ko.unwrap(this.config.itemsRefreshedCallback),"function"!=typeof this.itemsRefreshedCallback&&(this.itemsRefreshedCallback=void 0),this.throttledSearchBy=ko.computed(this.searchBy).extend({rateLimit:this.config.searchByThrottle}),this.throttledSearchBy.subscribe(function(t){if((""!==t||(this.searchBy(void 0),void 0!==this.previousSearchBy))&&(this.previousSearchBy=t,void 0!==t)){var e=ko.unwrap(this.config.selectors.ojPagingControl);e?$(e).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this),this.throttledFilterKeyword=ko.computed(this.filterKeyword).extend({rateLimit:this.config.filterKeywordThrottle}),this.throttledFilterKeyword.subscribe(function(t){if((""!==t||(this.filterKeyword(void 0),void 0!==this.previousFilterKeyword))&&(this.previousFilterKeyword=t,void 0!==t)){var e=ko.unwrap(this.config.selectors.ojPagingControl);e?$(e).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this),this.throttledFilterType=ko.computed(this.filterType).extend({rateLimit:this.config.filterTypeThrottle}),this.throttledFilterType.subscribe(_.bind(function(t){if((this.previousFilterType||(t||[]).length)&&!_.isEqual(t,this.previousFilterType)){this.previousFilterType=t;var e=ko.unwrap(this.config.selectors.ojPagingControl);e?$(e).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this)),this.orderBy.subscribe(_.bind(function(){this.fetch().then(_.bind(function(){this.handleEvent(i.EventType.SORT,this.orderByEvent())},this))},this)),this.extraFields={};var t=_.bind(function(){if(!this.config.disableExtraFieldsFetch){var t=ko.unwrap(this.config.selectors.ojPagingControl);t?$(t).ojPagingControl("firstPage"):this.fetch({reset:!0})}},this);for(var e in this.config.extraFields){var n=this.config.extraFields[e];this.extraFields[e]=ko.isObservable(n)?n:ko.observable(n),this.extraFields[e].subscribe(t)}this._eventHandlers=[];var s=ko.unwrap(this.config.events);for(var o in s)if("create"===o||"update"===o||"delete"===o){var a={};a[s[o].name]={data:_.bind(this.listeners[o],this)},this.config.facade.listen(a)}},findLink:function(t,e){var i=_.find(t,function(t){return t.rel===e});return i?i.href:void 0},fetch:function(t){t=t||{};var e=ko.unwrap(this.items);if(this._isResetting)return this.resolveEmptyRequest();if(void 0!==t.disableFetch&&(this.config.disableFetch=t.disableFetch,t=_.omit(t,"disableFetch")),this.config.disableFetch)return this.resolveEmptyRequest();var n={},s=this.orderByStringValue(),o=ko.unwrap(this.config.events),a=ko.unwrap(o.load),r=void 0!==t.startIndex?null===t.startIndex?0:t.startIndex:this.startIndex()||0,l=_.extend({orderBy:s,offset:r,limit:t.pageSize||this.pageSize()||this.config.pageSize,q:this.searchBy(),filterKeyword:this.filterKeyword(),filterType:this.filterType().length?this.filterType().join(","):void 0,totalResults:!!this.config.totalResults||void 0},t,a.data||{});for(var d in this.config.extraFields)l[d]=this.extraFields[d]();l=_.omit(l,"pageSize","startIndex","silent","fetchType"),n[a.name]={data:l,permission:a.permission};var b=$.Deferred();this.handleEvent(i.EventType.REQUEST,{startIndex:r});var c={promise:!0};if(this.config.facade.isVisible){var u=this.config.facade;!u.isVisible()||u.bindings&&ko.isObservable(u.bindings.isLoading)&&u.bindings.isLoading()?c.loadingSpinner=!0:c.actionSpinner=!0}return this.config.facade.notify(n,c).always(_.bind(function(n){if(n||(n={status:200,data:{hasMore:!1,items:[],links:[],limit:0,totalResults:0}}),!n.data||n.status&&(n.status<200||n.status>=300))return this.handleEvent(i.EventType.ERROR,n),t.error&&setTimeout(t.error,0),b.reject(n),this.resolveEmptyRequest();var s,o=this.findLink(n.data.links,"self");if(o){var a=o.slice(o.indexOf("?"));s=parseInt(i.decodeParams(a).offset,10)}this.hasMore(!!n.data.hasMore);var l=void 0!==t.startIndex?t.startIndex:s||0,d=[],c=[];this.totalSize(n.data.totalResults);var u;if(n.data.items)for(this.config.dataobjectClass?this.config.dataobjectClass.__static__.fromJS(n.data.items,this.items):this.items(n.data.items),this.compoundObjects.length=0,u=0;u<n.data.items.length;u++)this.compoundObjects.push(this.toSingleCompoundObject(l+u,n.data.items[u])),d.push(n.data.items[u]),c.push(n.data.items[u][this.config.idAttribute]);"loadMore"===this.mode&&r>0&&this.items([].concat(e,this.items())),this.startIndex(l);var h={data:d,keys:c,startIndex:l};b.resolve($.extend(!0,{},h)),this.itemsRefreshedCallback&&this.itemsRefreshedCallback($.extend(!0,{},h)),this.handleEvent(i.EventType.SYNC,h),t.success&&setTimeout(t.success,10),t.reset&&!this._isResetting&&(this._isResetting=!0,this.handleEvent(i.EventType.RESET,{}),this._isResetting=!1)},this)),b},setPageSize:function(t){this.pageSize(t)},at:function(t,e){var i=this.startIndex(),n=i>-1&&this.compoundObjects.length>t-i?this.compoundObjects[t-i]:null;return $.Deferred().resolve(n)},get:function(t){for(var e=this.items(),i=0;i<e.length;i++){var n=ko.unwrap(e[i]);if(n[this.config.idAttribute]===t){var s=this.toSingleCompoundObject(i,n);return $.Deferred().resolve(s)}}return $.Deferred().resolve(null)},getCapability:function(t){return this.config.capabilities[t]||null},sort:function(t){if(t&&t.key){var e=t.key;"ascending"===t.direction?e+=":asc":"descending"===t.direction&&(e+=":desc"),this.orderBy(e)}},orderByStringValue:function(){var t=this.orderBy();return Array.isArray(t)&&t.length&&(t=t[0]),t},orderByEvent:function(){var t=this.orderByStringValue().split(":"),e="none";return"asc"===t[1]?e="ascending":"desc"===t[1]&&(e="descending"),{header:t[0],direction:e}},handleEvent:function(t,e){for(var i=0;i<this._eventHandlers.length;i++){var n=this._eventHandlers[i];n.eventType===t&&n.eventHandlerFunc(e)}},on:function(t,e){if("function"==typeof e){for(var i=!1,n=0;n<this._eventHandlers.length;n++)if(this._eventHandlers[n].eventType===t&&this._eventHandlers[n].eventHandlerFunc===e){i=!0;break}i||this._eventHandlers.push({eventType:t,eventHandlerFunc:e})}},off:function(t,e){for(var i=this._eventHandlers.length-1;i>=0;i--)if(this._eventHandlers[i].eventType===t&&this._eventHandlers[i].eventHandlerFunc===e){this._eventHandlers.splice(i,1);break}},listeners:{create:function(t){var e=t.status>=200&&t.status<300||304===t.status;if(e){var n=this.items(),s=t.data||t,o=s;this.config.dataobjectClass&&(o=new this.config.dataobjectClass(o)),n.unshift(o),n.length>this.config.pageSize&&(this.length=this.config.pageSize),this.items(n),this.compoundObjects.unshift(this.toSingleCompoundObject(this.startIndex(),s)),this.compoundObjects.length>this.config.pageSize&&(this.compoundObjects.length=this.config.pageSize),this.totalSize(this.totalSize()+1),this.handleEvent(i.EventType.ADD,this.toAddRemoveChangeEventObject(this.startIndex(),s))}},update:function(t){var n=t.status>=200&&t.status<300||304===t.status;if(n){var s,o=this.items(),a=this.config.idAttribute,r=[],l=t.data||t;for(s=0;s<o.length;s++){var d,b=o[s];b instanceof e?(d=ko.isObservable(b[a])?b[a]():b[a],d===l[a]&&b.fromJS(l)):"object"==typeof b&&(d=b[a],d===l[a]&&_.extend(b,l)),r.push(b)}for(this.items(r),s=0;s<this.compoundObjects.length;s++){var c=this.compoundObjects[s];if(c.data[a]===l[a]){var u=this.startIndex()+s;this.compoundObjects[s]=this.toSingleCompoundObject(u,l),this.handleEvent(i.EventType.CHANGE,this.toAddRemoveChangeEventObject(u,l));break}}}},delete:function(t){var e=t.status>=200&&t.status<300||304===t.status;e&&this.fetch().then(_.bind(function(t){var e=this.totalSize()>0&&this.startIndex()>=0&&this.startIndex()>=this.totalSize(),i=ko.unwrap(this.config.selectors.ojPagingControl);e&&i&&_.defer(_.bind(function(){$(i).ojPagingControl("previousPage")},this))},this))}},toSingleCompoundObject:function(t,e){return{data:e,key:e[this.config.idAttribute],index:t}},toAddRemoveChangeEventObject:function(t,e){return{data:[e],keys:[e[this.config.idAttribute]],indexes:[t]}},resolveEmptyRequest:function(){return $.Deferred().resolve({data:[],keys:[],startIndex:0})}}),i}),define("bots.defaultpreferences",[],function(){return{assistance:{showInitialTour:!1},da:{sortBy:"nameAsc"},bot:{sortBy:"nameAsc",showOnlyLatest:!0},flows:{theme:"default"},insights:{dateRange:{id:"last-7-days",startOffset:-7,endOffset:0}},tester:{botInitialUA:!0,intentInitialUA:!0,batchintentInitialUA:!0}}}),define("bots.package.bot/view.landing",["module","suite.package.util/messaging","bots.config","bots.package.shell/context.header","bots.package.view/view","bots.package.view/new.bot","bots.i18n","bots.package.bot/facade","bots.package.bot/dataobject","bots.package.bot/router","bots.collection","bots.defaultpreferences","bots.enums"],function(t,e,i,n,s,o,a,r,l,d,b,c,u){var h=function(){var t=42,e=328,i=238,n=220,s=20,o=3,a=Math.floor((window.innerHeight-n)/i),r=Math.floor((window.innerWidth-t)/e),l=a*r-1;return l<o?l=o:l>s&&(l=s),l},g=s.extend({module:t,name:"BotsLandingView"},{deps:{i18n:a,facade:r,router:d},config:{menuSpeed:400},sortOptions:{nameAsc:{field:"displayName",label:a.translate("general.sort.nameAsc"),direction:"asc"},nameDesc:{field:"displayName",label:a.translate("general.sort.nameDesc"),direction:"desc"},updatedAtAsc:{field:"updatedOn",label:a.translate("general.sort.lastUpdateAsc"),direction:"asc"},updatedAtDesc:{field:"updatedOn",label:a.translate("general.sort.lastUpdateDesc"),direction:"desc"},createdOnAsc:{field:"createdOn",label:a.translate("general.sort.createdAsc"),direction:"asc"},createdOnDesc:{field:"createdOn",label:a.translate("general.sort.createdDesc"),direction:"desc"}},bindings:{i18n:a,BotsEnums:u,contextHeader:n,sortOptions:{func:function(){return ko.observableArray(_.chain(this.sortOptions).map(function(t,e){return{value:e,label:t.label}}).sortBy(function(t){return t.label}).value())}},sortBy:{func:function(){var t=this.bindings.userPreferences()?this.bindings.userPreferences().sortBy:void 0;return void 0===t&&(t=c.bot.sortBy),ko.observableArray([t])}},isFiltering:{func:ko.observable,args:[!1]},isListError:{func:ko.observable,args:[!1]},showOnlyLatest:{func:function(){var t=ko.observable(this._defaultShowOnlyLatest());return t}},botCollection:{func:function(){var t=this.sortOptions[this.bindings.userPreferences().sortBy],e=t.field+":"+t.direction;return this.bindings.assets=new b({facade:this,pageSize:this.config.defaultPageSize,idAttribute:"id",totalResults:!0,dataobjectClass:l.BotDataObject,orderBy:e,filterType:this._toFilterType(this._defaultShowOnlyLatest()),disableFetch:!1,selectors:{ojPagingControl:this.config.botPagerElement},events:{load:{name:"LOAD_BOTS",data:{}},delete:{name:"TRASH_BOT"}}}),this.bindings.assets}},botPagerDS:{func:function(){return new oj.PagingTableDataSource(this.bindings.botCollection)}},versionCollection:{func:function(){var t=this.sortOptions[this.bindings.userPreferences().sortBy],e=t.field+":"+t.direction;return new b({facade:this,pageSize:this.config.defaultPageSize,idAttribute:"id",totalResults:!0,dataobjectClass:l.BotDataObject,orderBy:e,disableFetch:!1,extraFields:{botName:this.bindings.contextHeader.bindings.versionsLandingBotName},selectors:{ojPagingControl:this.config.versionPagerElement},events:{load:{name:"LOAD_BOT_VERSIONS",data:{}},delete:{name:"TRASH_BOT"}}})}},versionPagerDS:{func:function(){return new oj.PagingTableDataSource(this.bindings.versionCollection)}},botsTileContextMenu:{func:function(){return n.computeBotContextMenu(this)}},botsTileIcon:function(t,e,i,n){var s;return ko.unwrap(i)?(s=0===(ko.unwrap(n)||[]).length?0:1,{title:a.translate(u.BotAssetEnum.STOREBOUGHT.titleRbKey[s]),width:u.BotAssetEnum.STOREBOUGHT.viewBox[s].width,height:u.BotAssetEnum.STOREBOUGHT.viewBox[s].height,basename:u.BotAssetEnum.STOREBOUGHT.basename[s],klazz:u.BotAssetEnum.STOREBOUGHT.klazz[s]}):ko.unwrap(t)===u.BotAssetEnum.SKILL.value?(s=ko.unwrap(e)===u.LifeCycleManagementEnum.DRAFT?0:1,{title:a.translate(u.BotAssetEnum.SKILL.titleRbKey[s]),width:u.BotAssetEnum.SKILL.viewBox[s].width,height:u.BotAssetEnum.SKILL.viewBox[s].height,basename:u.BotAssetEnum.SKILL.basename[s],klazz:u.BotAssetEnum.SKILL.klazz[s]}):ko.unwrap(t)===u.BotAssetEnum.DA.value?(s=0,{title:a.translate(u.BotAssetEnum.DA.titleRbKey[s]),width:u.BotAssetEnum.DA.viewBox[s].width,height:u.BotAssetEnum.DA.viewBox[s].height,basename:u.BotAssetEnum.DA.basename[s],klazz:u.BotAssetEnum.DA.klazz[s]}):void 0},newBotPopup:n.bindings.newBotPopup,deleteBotPopup:n.bindings.deleteBotPopup,cloneBotPopup:n.bindings.cloneBotPopup,publishBotPopup:n.bindings.publishBotPopup,exportBotLogsPopup:n.bindings.exportBotLogsPopup,installStoreSkillUpdatePopup:n.bindings.installStoreSkillUpdatePopup,channelRoutesPopup:n.bindings.channelRoutesPopup,onClickMoreVersions:function(t,e){this.bindings.contextHeader.bindings.versionsLandingBotName(t.name),this.bindings.contextHeader.bindings.versionsLandingBotDisplayName(t.displayName),this.bindings.contextHeader.bindings.versionsLandingBotNamespace(t.namespace),e.stopPropagation()},performMenuAction:function(t,e){var i=this;_.defer(function(){var n=$(t.target).closest(".tile"),s=e.item[0].attributes.getNamedItem("menuId").value,o=_.find(i.bindings.botsTileContextMenu,function(t){return t.id===s}),a=n.attr("id").substring(i.config.tileIdPrefix.length);i.bindings[o.click](a)})},onBotEdit:function(t){this.deps.router.navigateBot(t,"intents")},onBotNewVersion:function(t){var e=this._findBot(t);this.bindings.newBotPopup.config.createModeToUse=this.bindings.newBotPopup.__static__.CREATE_CLONE_VERSION,this.bindings.newBotPopup.config.nameToUse=e.name,this.bindings.newBotPopup.config.displayNameToUse=e.displayName,this.bindings.newBotPopup.config.descriptionToUse=e.description,this.bindings.newBotPopup.config.botId=e.id,this.bindings.newBotPopup.open()},onBotClone:function(t){var e=this._findBot(t);this.bindings.cloneBotPopup.config.botId=t,this.bindings.cloneBotPopup.config.botDisplayName=e.displayName,this.bindings.cloneBotPopup.config.botName=e.name,this.bindings.cloneBotPopup.config.botNamespace=e.namespace,this.bindings.cloneBotPopup.open({},{version:e.version,description:e.description||""})},onBotPublish:function(t){var i=this._findBot(t);_.isEmpty(ko.unwrap(i.description))?e.showWarning(a.translate("bots.bot.errors.publishBot.noDescription")):ko.unwrap(i.requiresTraining)?e.showWarning(a.translate("bots.bot.errors.publishBot.noTraining")):(this.bindings.publishBotPopup.config.botId=i.id,this.bindings.publishBotPopup.config.botDisplayName=i.displayName,this.bindings.publishBotPopup.config.botName=i.name,this.bindings.publishBotPopup.config.botVersion=i.version,this.bindings.publishBotPopup.config.botStatus=u.LifeCycleManagementEnum.PUBLISHED,this.bindings.publishBotPopup.open())},onBotExport:function(t){this._exportBot(this._findBot(t))},onBotExportLogs:function(t){var e=this._findBot(t);this.bindings.exportBotLogsPopup.config.bot=e,this.bindings.exportBotLogsPopup.open()},onBotTrash:function(t){var e=this._findBot(t);e&&(this.bindings.deleteBotPopup.config.botDisplayName=e.displayName,this.bindings.deleteBotPopup.config.botVersion=e.version,this.bindings.deleteBotPopup.config.botId=t,this.bindings.deleteBotPopup.open())},onBotPull:function(t){var e=this._findBot(t);this.bindings.installStoreSkillUpdatePopup.config.skillStoreUpdateObj=_.object(_.pluck(e.skillStoreUpdate,"rel"),_.pluck(e.skillStoreUpdate,"href")),_.isEmpty(this.bindings.installStoreSkillUpdatePopup.config.skillStoreUpdateObj)?this.warn("link rel="+u.LifeCycleManagementEnum.SKILLSTORE.NEW_VERSION_IMPORT+" not found!"):this.bindings.installStoreSkillUpdatePopup.open()},onBotRoutes:function(t){var e=this._findBot(t);this.bindings.channelRoutesPopup.config.bot=e,this.bindings.channelRoutesPopup.open()},createNewBot:function(){this.bindings.newBotPopup.open()},editBot:function(t,e){var i=this;return $(t.target).is(t.id+"-btn")?void t.preventDefault():void _.defer(function(){i.deps.router.navigateBot(t.id,"intents")})},algorithmDetails:function(t){return t.intentTrainer?a.translate("bots.train.tip.currentModelIs",a.translate("settings.general.trainingModel."+t.intentTrainer+".name")):""}},_defaultShowOnlyLatest:function(){var t=this.bindings.userPreferences()?this.bindings.userPreferences().showOnlyLatest:void 0;return void 0===t&&(t=c.bot.showOnlyLatest),t},_toFilterType:function(t){return t?[u.LifeCycleManagementEnum.LAST_UPDATED]:[]},validateBotName:function(t){return!_.some(this.bindings.botCollection.items(),function(e){return e.name===t})},sortBots:function(){var t=_.first(this.bindings.sortBy()),e=this.sortOptions[t];this.bindings.botCollection.orderBy(e.field+":"+e.direction+(e.extra||""));var i=this.bindings.userPreferences();i.sortBy=t,this.bindings.userPreferences(i)},sortVersions:function(){var t=_.first(this.bindings.sortBy()),e=this.sortOptions[t];this.bindings.versionCollection.orderBy(e.field+":"+e.direction+(e.extra||""));var i=this.bindings.userPreferences();i.sortBy=t,this.bindings.userPreferences(i)},BotsLandingView:function(t){this._super(t),this.bindings.isAction(!1),this.bindings.isLoading(!1)},_fetchLandingCollection:function(t){var e=n.bindings.versionsLandingBotName.peek()?"version":"bot",i=$(this.config[e+"PagerElement"]).ojPagingControl("instance"),s=this.bindings[e+"Collection"],o=this.bindings[e+"PagerDS"];if(t){var a=i._getCurrentPage();s.fetch().then(function(){setTimeout(function(){_.defer(function(){i._getCurrentPage()!==a&&i._invokeDataPage(a,!1)})},500)})}else o.fetch()},loadModule:function(t){this._super(t)&&this._fetchLandingCollection()},reloadModule:function(t){this._super(t)&&this._fetchLandingCollection()},initModule:function(t){return!!this._super(t)&&void this.listen({LOAD_BOTS:_.bind(function(t){this.bindings.isListError(t.status>200),t.status>200&&this.deps.messaging.showI18nError(t)},this),CREATE_BOT:_.bind(function(t){t.status<=201&&this.log("Successfully created "+t.data.name+", version "+t.data.version+" bot!")},this),TRASH_BOT:_.bind(function(t){t.status<=204&&(e.showConfirmation(a.translate("bots.bot.deleted",this.bindings.deleteBotPopup.config.botDisplayName,this.bindings.deleteBotPopup.config.botVersion)),this._fetchLandingCollection())},this),EXPORT_BOT:_.bind(function(t){t.status<=200&&e.showConfirmation(a.translate("bots.bot.exported",t.bot.name))},this),CLONE_BOT:_.bind(function(t){t.status<=201&&this._fetchLandingCollection()},this),PUBLISH_BOT:_.bind(function(t){t.status<=204&&this._fetchLandingCollection()},this),INSTALL_STORE_SKILL_UPDATE:_.bind(function(t){t.status<=204&&this._fetchLandingCollection()},this),BOTS_CATALOG_MODIFIED:_.bind(function(t){this._fetchLandingCollection()},this),SCREEN_RESIZE_BOTH:_.debounce(_.bind(function(){var t=Math.min(this.bindings.botCollection.totalSize.peek(),h());this.config.defaultPageSize!==t&&(this.config.defaultPageSize=t,this.bindings.botCollection.pageSize(this.config.defaultPageSize),this.isVisible()&&this._fetchLandingCollection(!0))},this),this.config.refreshOnResizeDelay)})},renderView:function(t){this._super(t)},bindView:function(t){this._super(t),this.bindings.sortBy.subscribe(this.sortBots,this),this.bindings.sortBy.subscribe(this.sortVersions,this),this.bindings.botCollection.searchBy.extend({rateLimit:750}),this.bindings.botCollection.searchBy.subscribe(function(t){this._fetchLandingCollection(!0)},this),this.bindings.showOnlyLatest.subscribe(function(t){var e=this.bindings.userPreferences();e.showOnlyLatest=t,this.bindings.userPreferences(e),this.bindings.botCollection.filterType(this._toFilterType(t)),this._fetchLandingCollection(!0)},this),this.bindings.versionCollection.searchBy.extend({rateLimit:750}),this.bindings.versionCollection.searchBy.subscribe(function(t){this._fetchLandingCollection(!0)},this);var e=this._buildFilteringHandler();e&&(this.bindings.botCollection.throttledSearchBy.subscribe(e,this),this.bindings.botCollection.throttledFilterKeyword.subscribe(e,this),this.bindings.botCollection.throttledFilterType.subscribe(e,this))},_findBot:function(t){return _.find((n.bindings.versionsLandingBotName.peek()?this.bindings.versionCollection:this.bindings.botCollection).items(),function(e){return e.id===t})},_buildFilteringHandler:function(){return function(t){this.bindings.isFiltering(void 0!==t&&t.length||!n.bindings.versionsLandingBotName()&&(this.bindings.botCollection.searchBy()||this.bindings.botCollection.filterKeyword()||this.bindings.botCollection.filterType().length)||!!n.bindings.versionsLandingBotName()&&this.bindings.versionCollection.searchBy())}},_exportBot:function(t){this.notify({EXPORT_BOT:{data:{botId:ko.unwrap(t.id),name:ko.unwrap(t.name),version:ko.unwrap(t.version)}}},{actionSpinner:!0}).always(_.bind(function(t){t.status>200&&this.deps.messaging.showI18nError(t,"bots.bot.errors.exportBot")},this))}});return new g({baseElement:"#developmentSubAnchor-bot",contentElement:"#developmentSubAnchor-bot >",baseTemplate:"bots/bot/landing",baseTemplateElement:"#developmentSubAnchor-bot",artifactTiles:"#bots-catalog-tiles",tileIdPrefix:"bots-tile-",defaultPageSize:h(),botPagerElement:"#bots-paging-control",versionPagerElement:"#bots-versions-paging-control",lightweight:!0,refreshOnResizeDelay:750})}),define("bots.package.bot/view.bot",["module","bots.config","bots.i18n","bots.package.shell/context.header","bots.package.view/view","bots.package.bot/facade","bots.package.bot/router","bots.package.bot/dataobject","bots.package.bottester/view.main"],function(t,e,i,n,s,o,a,r,l){var d=s.extend({module:t,name:"BotView"},{__static__:{BOTS_EDITOR_VTAB_ICON_HEIGHT:65,NUMBER_VTABS:a.config.tabs.children.length},deps:{facade:o,router:a},bindings:{isTesterOpen:{func:ko.computed,args:[function(){return n.bindings.isTesterOpen()}]},gotDefects:{func:function(){return require("bots.package.defectviewer/view").bindings.gotDefects}},isDefectViewerOpen:{func:function(){return require("bots.package.defectviewer/view").bindings.isDefectViewerOpen}},isSideMenuOpen:{func:function(){return require("bots.package.defectviewer/view").bindings.isSideMenuOpen}},buttonBarHeight:{func:ko.observable,args:[0]},minVtabWithTabButtonBarHeight:{func:function(){return ko.computed(function(){return this.__static__.NUMBER_VTABS*this.__static__.BOTS_EDITOR_VTAB_ICON_HEIGHT+this.bindings.buttonBarHeight()+20},this,{deferEvaluation:!0})}},onClickOpenFullPageTester:function(){this.bindings.fullPageTesterPopup.open()},onWindowScrollResizeHandler:{func:function(){var t=this;return _.debounce(function(e){t.bindings.buttonBarHeight(e.height());var i=Math.max(t.bindings.minVtabWithTabButtonBarHeight(),$(document).scrollTop()+$(window).height()-e.parent().offset().top)-e.height()-20+"px";e.css("top",i)},150,!1)}},fullPageTesterPopup:{func:function(){return new l({baseElement:"#bottester-fullpage",contentElement:"#bottester-fullpage",parentView:this})}}},BotView:function(t){this._super(t)},bindView:function(t){var e,i=!1,s=_.debounce(function(){i?($("#bots-editor-baseContent").addClass("bots-inside-bot-editor"),originaPaddingLeft=$("#botsBody").css("padding-left"),$("#botsBody").css("padding-left",0)):($("#bots-editor-baseContent").removeClass("bots-inside-bot-editor"),$("#botsBody").css("padding-left",e))},400,!1),o=_.debounce(function(){n.bindings.closeSlideOutTester()},400,!1);this._super(t),this.deps.router.registerTabListeners(_.bind(function(){return{}},this)),this.deps.facade.listen({ROUTE_DISPLAY:_.bind(function(t){i=!1,s(),o()},this),SUB_ROUTE_DISPLAY:_.bind(function(t){t&&"bots.package.bot.BotTabRouter"===t.router&&(i=!0,s(),o())},this)})},buildOnRender:function(){var t=this._super();return{ROUTE_DISPLAY:_.bind(function(e){var n,s=_.first(e&&e.meta&&e.meta.extraParams);if(s)try{n=JSON.parse(s)}catch(t){n=void 0}if(_.isObject(n)&&n.promoJourney){var o=require("bots.ua");o.showGlassPane("bots/bot/glasspane.firsttime.ua.bots",{},{gotItAction:function(){return!0},baseId:"bots",firstUAHeadingText:i.translate("bots.promoJourney.firstUAHeadingText"),firstUADescText:i.translate("bots.promoJourney.firstUADescText"),firstUATipText:i.translate("bots.promoJourney.firstUATipText")},"bots-uaglasspane");this.deps.router.navigate(this.deps.router._encodeContext({botId:this.deps.botsConfig.getCurrentBot().id})+"/bot/intents",{trigger:!0,replace:!0})}else t.ROUTE_DISPLAY(e)},this)}},initModule:function(t){if(this._super(t))return!0},loadModule:function(t){if(this._super(t))return!0},reloadModule:function(t){if(this._super(t))return this.loadModule()}});return new d({baseElement:"#botsBody",contentElement:"#botsBody >",baseTemplate:"bots/bot/bot",baseTemplateElement:"#botsBody"})}),function(){define("bots.package.bot/package.main",["ojs/ojmasonrylayout","ojs/ojselectcombobox","ojs/ojbutton"]),require(["bots.templates/bot","bots.package.bot/view.landing","bots.package.bot/view.bot"])}(),define("bots.package.bot",["bots.package.bot/package.main"],function(t){return t});